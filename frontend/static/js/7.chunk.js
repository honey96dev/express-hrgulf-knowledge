(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{455:function(e,t,a){"use strict";var n=a(42),c=a(0),l=a.n(c),r=a(4),m=a(13),i=a(464),s=a(29);t.a=function(e){var t=e.circle,a=e.current,o=e.pageCount,u=e.width,E=e.onChange,d=Object(s.b)().t,f=Object(c.useState)([]),O=Object(n.a)(f,2),b=O[0],p=O[1],N="ltr"===d("DIRECTION")?"left":"right",h="ltr"===d("DIRECTION")?"right":"left";return Object(c.useEffect)(function(e){!u&&(u=i.isMobile?m.B:m.A);var t=Math.ceil(u/2),n=a-t<1?1:a-t,c=a+t-1>o?o:a+t-1;c-n<u&&(1===n&&(c=o<u?o:u),c===o&&(n=o-u+1<1?1:o-u+1));for(var l=[],r=n;r<=c;r++)l.push(r);p(l)},[a,o,u]),l.a.createElement(c.Fragment,null,o>0&&l.a.createElement(r.L,{circle:t},l.a.createElement(r.J,{disabled:1===a,onClick:function(){return E(1)}},l.a.createElement(r.K,{className:"page-link"},l.a.createElement(r.y,{icon:"angle-double-".concat(N)}))),l.a.createElement(r.J,{disabled:1===a,onClick:function(){return E(a-1)}},l.a.createElement(r.K,{className:"page-link"},l.a.createElement(r.y,{icon:"angle-".concat(N)}))),b.map(function(e,t){return l.a.createElement(r.J,{key:e,active:e===a,onClick:function(){return a!==e&&E(e)}},l.a.createElement(r.K,{className:"page-link"},e))}),l.a.createElement(r.J,{disabled:a===o,onClick:function(){return E(a+1)}},l.a.createElement(r.K,{className:"page-link"},l.a.createElement(r.y,{icon:"angle-".concat(h)}))),l.a.createElement(r.J,{disabled:a===o,onClick:function(){return E(o)}},l.a.createElement(r.K,{className:"page-link"},l.a.createElement(r.y,{icon:"angle-double-".concat(h)})))))}},456:function(e,t,a){"use strict";var n=a(30),c=a(33),l=a(40);a(13);t.a={list:function(e){return new Promise(function(t,a){Object(n.a)(c.d,l.a.posts.list,e).then(function(e){t(e)},function(e){a(e)})})},latest:function(e){return new Promise(function(t,a){Object(n.a)(c.d,l.a.posts.latest,e).then(function(e){t(e)},function(e){a(e)})})},save:function(e){return new Promise(function(t,a){Object(n.a)(c.d,l.a.posts.save,e).then(function(e){t(e)},function(e){a(e)})})},get:function(e){return new Promise(function(t,a){Object(n.a)(c.d,l.a.posts.get,e).then(function(e){t(e)},function(e){a(e)})})},post2Topics:function(e){return new Promise(function(t,a){Object(n.a)(c.d,l.a.posts.post2Topics,e).then(function(e){t(e)},function(e){a(e)})})},commentList:function(e){return new Promise(function(t,a){Object(n.a)(c.d,l.a.posts.commentList,e).then(function(e){t(e)},function(e){a(e)})})},writeComment:function(e){return new Promise(function(t,a){Object(n.a)(c.d,l.a.posts.writeComment,e).then(function(e){t(e)},function(e){a(e)})})},topics:function(e){return new Promise(function(t,a){Object(n.a)(c.d,l.a.posts.topics,e).then(function(e){t(e)},function(e){a(e)})})},magazines:function(e){return new Promise(function(t,a){Object(n.a)(c.d,l.a.posts.magazines,e).then(function(e){t(e)},function(e){a(e)})})},getMagazine:function(e){return new Promise(function(t,a){Object(n.a)(c.d,l.a.posts.getMagazine,e).then(function(e){t(e)},function(e){a(e)})})},latestMagazines:function(e){return new Promise(function(t,a){Object(n.a)(c.d,l.a.posts.latestMagazines,e).then(function(e){t(e)},function(e){a(e)})})}}},460:function(e,t,a){"use strict";var n=a(0),c=a.n(n),l=a(29),r=a(130);a(129);t.a=function(e){var t=e.message,a=Object(l.b)().t;return c.a.createElement("div",{className:"loading-page"},c.a.createElement(r.a,{heading:a("COMMON.ERROR.SORRY"),message:t||a("COMMON.ERROR.NO_DATA")}))}},466:function(e,t,a){"use strict";var n=a(30),c=a(33),l=a(40);t.a={list:function(e){return new Promise(function(t,a){Object(n.a)(c.d,l.a.news.list,e).then(function(e){t(e)},function(e){a(e)})})},latest:function(e){return new Promise(function(t,a){Object(n.a)(c.d,l.a.news.latest,e).then(function(e){t(e)},function(e){a(e)})})},get:function(e){return new Promise(function(t,a){Object(n.a)(c.d,l.a.news.get,e).then(function(e){t(e)},function(e){a(e)})})}}},469:function(e,t,a){"use strict";var n=a(54),c=a(42),l=a(0),r=a.n(l),m=a(4),i=a(29);a(473);t.a=function(e){var t=e.topics,a=e.initChecked,s=e.onUpdate,o=Object(i.b)().t,u=Object(l.useState)({}),E=Object(c.a)(u,2),d=E[0],f=E[1];Object(l.useEffect)(function(e){if(a instanceof Array){var t={},c=!0,l=!1,r=void 0;try{for(var m,i=a[Symbol.iterator]();!(c=(m=i.next()).done);c=!0){var s=m.value;t=Object.assign({},t,Object(n.a)({},s,!0))}}catch(o){l=!0,r=o}finally{try{c||null==i.return||i.return()}finally{if(l)throw r}}f(t)}},[a]);return r.a.createElement(l.Fragment,null,r.a.createElement("h4",null,o("POSTS.TOPICS")),t.map(function(e,t){return r.a.createElement("div",{key:t,className:"my-2"},r.a.createElement(m.A,{onClick:function(t){return function(e){f(e);var t=[];Object.keys(e).map(function(a){e[a]&&t.push(a)}),s&&s(t)}(Object.assign({},d,Object(n.a)({},e.id,!d[e.id])))},checked:d[e.id]||!1,label:e.topic,type:"checkbox",filled:!0,id:"checkbox".concat(e.id)}))}))}},470:function(e,t,a){"use strict";var n=a(0),c=a.n(n),l=a(4),r=a(36);a(29),a(13),a(476);t.a=function(e){var t=e.id,a=e.date,n=e.time,m=(e.author,e.comments,e.media,e.title),i=(e.description,e.detailLabel,e.detailLink);return c.a.createElement(l.P,null,c.a.createElement(l.p,{md:12},c.a.createElement("h5",{className:"mb-3 p-0"},c.a.createElement(r.b,{to:"".concat(i,"/").concat(t)},c.a.createElement("strong",null,m))),c.a.createElement("div",{className:"infor-section"},c.a.createElement("p",{className:"mb-0 mr-2"},c.a.createElement("span",{className:"mr-2"},c.a.createElement(l.y,{icon:"calendar-alt"})),a),c.a.createElement("p",{className:"mb-0 mr-2"},n))))}},472:function(e,t,a){},473:function(e,t,a){},474:function(e,t,a){},475:function(e,t,a){"use strict";var n=a(42),c=a(0),l=a.n(c),r=a(470),m=a(29),i=a(466),s=a(13);t.a=function(e){var t=e.detailLabel,a=e.detailLink,o=Object(m.b)().t,u=Object(c.useState)([]),E=Object(n.a)(u,2),d=E[0],f=E[1],O=(o("DIRECTION"),d.length-1);return Object(c.useEffect)(function(e){i.a.latest({limit:3}).then(function(e){e.result===s.T&&f(e.data)}).catch(function(e){})},[t,a,o]),l.a.createElement("div",{className:"text-left"},l.a.createElement("h5",{className:"mb-3 p-0"},o("NEWS.LATEST_NEWS")),d.map(function(e,n){return l.a.createElement(c.Fragment,{key:e.id},l.a.createElement(r.a,{id:e.id,date:e.date,time:e.time,author:"".concat(e.firstName," ").concat(e.lastName),title:e.title,description:e.description,detailLabel:t,detailLink:a}),n<O&&l.a.createElement("hr",{className:"my-2"}))}))}},476:function(e,t,a){},477:function(e,t,a){},478:function(e,t,a){"use strict";var n=a(30),c=a(33),l=a(40);t.a={downloadFile:function(e){var t=e.url,a=e.filename,r=e.params;return t.startsWith("http")||(t="".concat(l.a.origin).concat(t)),new Promise(function(e,l){Object(n.a)(c.b,t,r,{Accept:"application/pdf"},{responseType:"blob"}).then(function(t){console.log(t,window.URL);var n=window.URL.createObjectURL(t),c=document.createElement("a");c.setAttribute("href",n),c.setAttribute("download",a),c.style.display="none",document.body.appendChild(c),c.click(),document.body.removeChild(c),e(t)},function(e){l(e)})})}}},479:function(e,t,a){"use strict";var n=a(42),c=a(0),l=a.n(c),r=a(29),m=a(13),i=a(456),s=a(4),o=a(36),u=(a(474),function(e){var t=e.id,a=e.date,n=e.time,c=e.author,m=e.comments,i=(e.media,e.title),u=(e.description,e.detailLabel,e.detailLink);Object(r.b)().t;return l.a.createElement(s.P,null,l.a.createElement(s.p,{md:12},l.a.createElement("h5",{className:"mb-3 p-0"},l.a.createElement(o.b,{to:"".concat(u,"/").concat(t)},l.a.createElement("strong",null,i))),l.a.createElement("div",{className:"infor-section"},l.a.createElement("p",{className:"mb-0 mr-2"},l.a.createElement("span",{className:"mr-2"},l.a.createElement(s.y,{icon:"calendar-alt"})),a),l.a.createElement("p",{className:"mb-0 mr-2"},n)),l.a.createElement("div",{className:"infor-section"},l.a.createElement("p",{className:"mb-0"},l.a.createElement("span",{className:"mr-2"},l.a.createElement(s.y,{icon:"user"})),c)),l.a.createElement("div",{className:"infor-section"},l.a.createElement("p",{className:"mb-0"},l.a.createElement("span",{className:"mr-2"},l.a.createElement(s.y,{icon:"comments"})),m))))});a(457),a(40),t.a=function(e){var t=e.detailLabel,a=e.detailLink,s=Object(r.b)().t,o=Object(c.useState)([]),E=Object(n.a)(o,2),d=E[0],f=E[1],O=(s("DIRECTION"),d.length-1);return Object(c.useEffect)(function(e){i.a.latest({limit:3}).then(function(e){e.result===m.T&&f(e.data)}).catch(function(e){})},[t,a,s]),l.a.createElement("div",{className:"text-left"},l.a.createElement("h5",{className:"mb-3 p-0"},s("POSTS.LATEST_POSTS")),d.map(function(e,n){return l.a.createElement(c.Fragment,{key:e.id},l.a.createElement(u,{id:e.id,date:e.date,time:e.time,author:"".concat(e.firstName," ").concat(e.lastName),comments:e.comments,media:e.media,title:e.title,description:e.description,detailLabel:t,detailLink:a}),n<O&&l.a.createElement("hr",{className:"my-2"}))}))}},480:function(e,t,a){"use strict";var n=a(0),c=a.n(n),l=a(29),r=a(4),m=a(36),i=a(13),s=a(71),o=(a(472),function(e){var t=e.id,a=e.date,n=e.time,o=e.author,u=e.comments,E=e.media,d=e.title,f=e.description,O=e.detailLabel,b=e.detailLink,p=Object(l.b)().t,N=f.length>i.t?f.substr(0,i.t)+" ...":f;return c.a.createElement(r.P,null,c.a.createElement(r.p,{md:"5",lg:"5",xl:"4"},c.a.createElement(r.ab,{hover:!0,className:"rounded z-depth-1-half mb-lg-0 mb-4"},!!E.length&&c.a.createElement("img",{className:"img-fluid post-media",src:E,alt:""}),!E.length&&c.a.createElement("img",{className:"img-fluid post-media",src:s.a.postListitem,alt:""}),c.a.createElement(m.b,{to:"".concat(b,"/").concat(t)},c.a.createElement(r.B,{overlay:"white-slight"})))),c.a.createElement(r.p,{md:"7",lg:"7",xl:"8"},c.a.createElement("h3",{className:"font-weight-bold mb-3 p-0"},c.a.createElement(m.b,{to:"".concat(b,"/").concat(t)},c.a.createElement("strong",null,d))),c.a.createElement("div",{className:"infor-section"},c.a.createElement("p",{className:"mr-2"},c.a.createElement("span",{className:"mr-2"},c.a.createElement(r.y,{icon:"calendar-alt"})),a),c.a.createElement("p",{className:"mr-2"},n),c.a.createElement("p",null,"ltr"===p("DIRECTION")?"/":"\\"),c.a.createElement("p",{className:"mx-2"},c.a.createElement("span",{className:"mr-2"},c.a.createElement(r.y,{icon:"user"})),o),c.a.createElement("p",null,"ltr"===p("DIRECTION")?"/":"\\"),c.a.createElement("p",{className:"mx-2"},c.a.createElement("span",{className:"mr-2"},c.a.createElement(r.y,{icon:"comments"})),u)),c.a.createElement("p",{className:"dark-grey-text"},N),c.a.createElement(m.b,{to:"".concat(b,"/").concat(t)},c.a.createElement(r.g,{size:"sm",color:"indigo",flat:!0},O))))});t.a=function(e){var t=e.items,a=e.detailLabel,r=e.detailLink,m=((0,Object(l.b)().t)("DIRECTION"),t.length-1);return c.a.createElement("div",{className:"text-left mt-3"},t.map(function(e,t){return c.a.createElement(n.Fragment,{key:e.id},c.a.createElement(o,{id:e.id,date:e.date,time:e.time,author:"".concat(e.firstName," ").concat(e.lastName),comments:e.comments,media:e.media,title:e.title,description:e.description,detailLabel:a,detailLink:r}),t<m&&c.a.createElement("hr",{className:"my-5"}))}))}},510:function(e,t,a){},511:function(e,t,a){},512:function(e,t,a){},513:function(e,t,a){},514:function(e,t,a){},515:function(e,t,a){},516:function(e,t,a){},517:function(e,t,a){},518:function(e,t,a){},519:function(e,t,a){},520:function(e,t,a){},552:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),l=a(34),r=a(4),m=a(126),i=a(127),s=a(128),o=a(125),u=a(131),E=a(461),d=a.n(E),f=a(462),O=a(42),b=a(458),p=a(468),N=a(36),h=a(29),g=a(485),S=a(37),j=a(449),T=a(454),v=a(9),R=a(13),A=a(456),I=a(469),L=(a(510),function(e){Object(b.a)(e);var t=Object(h.b)().t,a=Object(S.c)(function(e){return e}).auth,m=Object(l.g)(),i=Object(n.useState)({}),s=Object(O.a)(i,2),o=s[0],u=s[1],E=Object(n.useState)([]),L=Object(O.a)(E,2),M=L[0],C=L[1],P=Object(n.useState)(void 0),w=Object(O.a)(P,2),y=w[0],D=w[1],x=Object(g.a)(),k=Object(O.a)(x,2),_=k[0],F=k[1],U=F.text,B=F.textarea,V=Object(n.useState)(null),W=Object(O.a)(V,2),z=W[0],K=W[1],G=Object(n.useState)([]),Z=Object(O.a)(G,2),J=Z[0],H=Z[1],Q=_.values,Y=Q.title,X=Q.description,q=_.touched,$=["jpg","jpeg","png"];Object(n.useEffect)(function(e){A.a.topics().then(function(e){e.result===R.T?C(e.data):C([])}).catch(function(e){C([])})},[t]);var ee=function(){var e=Object(f.a)(d.a.mark(function e(n){var c,l;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,(c=new FormData).append("userId",a.user.id),y&&c.append("id",y),c.append("title",Y),c.append("description",X),c.append("file",z),c.append("topicIds",J),e.next=11,A.a.save(c);case 11:l=e.sent,!y&&D(l.data.insertId),u({show:!0,color:l.result,message:l.message}),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),u({show:!0,color:R.a,message:t("COMMON.ERROR.UNKNOWN_SERVER_ERROR")});case 19:case"end":return e.stop()}},e,null,[[1,16]])}));return function(t){return e.apply(this,arguments)}}();return c.a.createElement(n.Fragment,null,c.a.createElement(T.Helmet,null,c.a.createElement("title",null,t("NAVBAR.POSTS.ADD")," - ",t("SITE_NAME"))),c.a.createElement(r.e,null,c.a.createElement(r.f,null,c.a.createElement(N.b,{to:v.a.posts.all},t("NAVBAR.POSTS.POSTS"))),c.a.createElement(r.f,{active:!0},t("NAVBAR.POSTS.ADD"))),c.a.createElement(r.h,null,c.a.createElement(r.i,{className:"mx-md-4 mx-sm-1 text-left"},c.a.createElement("form",{onSubmit:ee},c.a.createElement("div",{className:"text-center"},c.a.createElement("h3",{className:"dark-grey-text mt-3 mb-0 h3-response"},c.a.createElement("strong",null,t("NAVBAR.POSTS.ADD")))),c.a.createElement(r.P,null,c.a.createElement(r.p,{md:8},c.a.createElement(r.A,Object.assign({label:t("POSTS.TITLE"),outline:!0},U("title")),q.title&&0===Y.length&&c.a.createElement("div",{className:"invalid-field"},t("COMMON.VALIDATION.REQUIRED",{field:t("POSTS.TITLE")}))),c.a.createElement(r.A,Object.assign({label:t("POSTS.DESCRIPTION"),outline:!0},B("description"),{type:"textarea",rows:R.V}),q.description&&0===X.length&&c.a.createElement("div",{className:"invalid-field"},t("COMMON.VALIDATION.REQUIRED",{field:t("POSTS.DESCRIPTION")})))),c.a.createElement(r.p,{md:4},c.a.createElement("div",{className:"md-form"},c.a.createElement(p.a,{getValue:K,showRemove:!1,maxFileSize:R.v,allowedFileExtensions:$,messageDefault:t("COMMON.FILE_UPLOAD.DEFAULT"),messageReplace:t("COMMON.FILE_UPLOAD.REPLACE"),messageRemove:t("COMMON.FILE_UPLOAD.REMOVE"),messageError:t("COMMON.FILE_UPLOAD.ERROR"),errorFileSize:t("COMMON.FILE_UPLOAD.ERROR_FILESIZE",{max:R.v}),errorFileExtension:t("COMMON.FILE_UPLOAD.ERROR_FILEEXTENSION",{extensions:$.join(", ")})})),c.a.createElement("div",{className:"md-form"},c.a.createElement(I.a,{topics:M,onUpdate:function(e){H(e)}})))),c.a.createElement(j.a,{in:o.show,classNames:"fade-transition",timeout:R.W,unmountOnExit:!0,appear:!0},c.a.createElement(r.b,{color:o.color,dismiss:!0,onClosed:function(){return u({})}},o.message)),c.a.createElement(n.Fragment,null,c.a.createElement(r.g,{type:"submit",color:"indigo",size:"sm",disabled:!Y||!Y.length||!X||!X.length},t("COMMON.BUTTON.ADD")),c.a.createElement(r.g,{flat:!0,size:"sm",onClick:function(e){m.goBack()}},t("COMMON.BUTTON.BACK")))))))}),M=a(457),C=a(123),P=a(480),w=a(124),y=a(460),D=a(455),x=a(40),k=(a(511),function(e){Object(b.a)(e);var t=Object(l.h)().page,a=Object(h.b)().t,m=Object(l.g)(),i=Object(n.useState)(!0),s=Object(O.a)(i,2),o=s[0],u=s[1],E=Object(n.useState)({}),d=Object(O.a)(E,2),f=d[0],p=d[1],g=Object(n.useState)([]),S=Object(O.a)(g,2),L=S[0],k=S[1],_=Object(n.useState)([]),F=Object(O.a)(_,2),U=F[0],B=F[1],V=Object(n.useState)(0),W=Object(O.a)(V,2),z=W[0],K=W[1],G=Object(n.useState)([]),Z=Object(O.a)(G,2),J=Z[0],H=Z[1],Q=t?parseInt(t):1,Y=function(e){m.push("".concat(v.a.posts.all,"/").concat(e))};Object(n.useEffect)(function(e){C.animateScroll.scrollToTop({duration:R.W}),p({}),A.a.topics().then(function(e){e.result===R.T?k(e.data):k([])}).catch(function(e){k([])}),X()},[t,a,U]);var X=function(e){A.a.list({page:t,topics:U}).then(function(e){if(e.result===R.T){K(e.pageCount);var t=!0,a=!1,n=void 0;try{for(var c,l=e.data[Symbol.iterator]();!(t=(c=l.next()).done);t=!0){var r=c.value;r.media.length&&(r.media=r.media.startsWith("http://")||r.media.startsWith("https://")?r.media:Object(M.sprintf)("%s%s",x.a.assetsBaseUrl,r.media))}}catch(m){a=!0,n=m}finally{try{t||null==l.return||l.return()}finally{if(a)throw n}}H(e.data)}else p({show:!0,color:R.a,message:e.message});u(!1)}).catch(function(e){p({show:!0,color:R.a,message:a("COMMON.ERROR.UNKNOWN_SERVER_ERROR")}),u(!1)})};return c.a.createElement(n.Fragment,null,c.a.createElement(T.Helmet,null,c.a.createElement("title",null,a("NAVBAR.POSTS.ALL")," - ",a("SITE_NAME"))),c.a.createElement(r.e,null,c.a.createElement(r.f,null,c.a.createElement(N.b,{to:v.a.posts.all},a("NAVBAR.POSTS.POSTS"))),c.a.createElement(r.f,{active:!0},a("NAVBAR.POSTS.ALL"))),!!o&&c.a.createElement(w.a,null),c.a.createElement(r.P,null,c.a.createElement(r.p,{md:12},c.a.createElement(j.a,{in:f.show,classNames:"fade-transition",timeout:R.W,unmountOnExit:!0,appear:!0},c.a.createElement(r.b,{color:f.color,dismiss:!0,onClosed:function(){return p({})}},f.message))),c.a.createElement(r.p,{md:9,className:"order-1 order-md-0"},!o&&!J.length&&c.a.createElement(y.a,null),!o&&!!J.length&&c.a.createElement(n.Fragment,null,c.a.createElement("div",{className:"mt-5 text-center"},c.a.createElement(D.a,{circle:!0,current:Q,pageCount:z,onChange:Y})),c.a.createElement("div",{className:"full-width text-left"},c.a.createElement(N.b,{to:v.a.posts.add},c.a.createElement(r.g,{size:"sm",color:"primary",rounded:!0},a("NAVBAR.POSTS.ADD")))),c.a.createElement(P.a,{items:J,detailLabel:a("COMMON.BUTTON.READ_MORE"),detailLink:v.a.posts.detail}),c.a.createElement("div",{className:"mt-5 text-center"},c.a.createElement(D.a,{circle:!0,current:Q,pageCount:z,onChange:Y})))),c.a.createElement(r.p,{md:3,className:"order-0 order-md-1"},c.a.createElement("div",{className:"topic-list text-left"},c.a.createElement(I.a,{topics:L,onUpdate:function(e){B(e)}})))))}),_=a(479),F=(a(475),a(512),function(e){var t=e.data,a=e.comments,l=(e.topics,Object(h.b)().t);return c.a.createElement(n.Fragment,null,c.a.createElement("h3",{className:"font-weight-bold my-3 p-0 text-center h3-response"},c.a.createElement("strong",null,t.title)),c.a.createElement("div",{className:"infor-section text-left"},c.a.createElement("p",{className:"mr-2"},c.a.createElement("span",{className:"mr-2"},c.a.createElement(r.y,{icon:"calendar-alt"})),t.date),c.a.createElement("p",{className:"mr-2"},t.time),c.a.createElement("p",null,"ltr"===l("DIRECTION")?"/":"\\"),c.a.createElement("p",{className:"mx-2"},c.a.createElement("span",{className:"mr-2"},c.a.createElement(r.y,{icon:"user"})),"".concat(t.firstName," ").concat(t.lastName)),c.a.createElement("p",null,"ltr"===l("DIRECTION")?"/":"\\"),c.a.createElement("p",{className:"mx-2"},c.a.createElement("span",{className:"mr-2"},c.a.createElement(r.y,{icon:"comments"})),a)),c.a.createElement("div",{className:"text-center"},c.a.createElement("img",{src:t.media,className:"post-detail-media view overlay rounded z-depth-1-half mb-4"})),c.a.createElement("div",null,c.a.createElement("div",{className:"text-left"},t.description)))}),U=(a(513),function(e){var t=e.commentId,a=Object(h.b)().t,m=Object(l.g)(),i=Object(S.c)(function(e){return e}).auth,s=Object(n.useState)({}),o=Object(O.a)(s,2),u=o[0],E=o[1],d=Object(n.useState)(!1),f=Object(O.a)(d,2),b=f[0],p=f[1],T=Object(g.a)(),I=Object(O.a)(T,2),L=I[0],M=I[1].textarea,C=m.location.pathname,P=L.values.comment,w=L.touched;return c.a.createElement(n.Fragment,null,c.a.createElement("h4",{className:"font-weight-bold mt-5 mb-3 p-0 text-left"},c.a.createElement("strong",null,a("POSTS.DETAIL.WRITE")," ",c.a.createElement("span",{className:"blue-text"},a("POSTS.DETAIL.COMMENT")))),!!i.signedIn&&c.a.createElement("form",{onSubmit:function(e){e.preventDefault(),A.a.writeComment({commentId:t,userId:i.user.id,comment:P}).then(function(e){p(e.result===R.T),E({show:!0,color:e.result,message:e.message})}).catch(function(e){E({show:!0,color:R.a,message:a("COMMON.ERROR.UNKNOWN_SERVER_ERROR")})})},className:"text-left"},c.a.createElement(r.A,Object.assign({label:a("POSTS.DESCRIPTION"),outline:!0},M("comment"),{type:"textarea",containerClass:"mb-2",rows:R.U}),w.comment&&0===P.length&&c.a.createElement("div",{className:"invalid-field"},a("COMMON.VALIDATION.REQUIRED",{field:a("POSTS.DETAIL.COMMENT")}))),c.a.createElement(j.a,{in:u.show,classNames:"fade-transition",timeout:R.W,unmountOnExit:!0,appear:!0},c.a.createElement(r.b,{color:u.color,dismiss:!0,onClosed:function(){return E({})}},u.message)),c.a.createElement(n.Fragment,null,c.a.createElement(r.g,{type:"submit",color:"indigo",size:"sm",disabled:!!b||!P||!P.length},a("COMMON.BUTTON.SEND")))),!i.signedIn&&c.a.createElement(n.Fragment,null,c.a.createElement(r.b,{color:"warning"},a("POSTS.DETAIL.REQUIRE_SIGN_IN")," ",c.a.createElement(N.b,{to:"".concat(v.a.auth.signIn,"?redirect=").concat(C),className:"blue-text"},a("AUTH.SIGN_IN")))))}),B=(a(514),function(e){var t=e.data,a=Object(h.b)().t;return c.a.createElement(n.Fragment,null,c.a.createElement(r.b,{className:"mt-5 mb-3",color:"primary"},t.length?a("POSTS.DETAIL.COMMENTS"):a("POSTS.DETAIL.NO_COMMENT")),t.map(function(e,n){return c.a.createElement("div",{key:n,className:"my-3 ml-5"},c.a.createElement("div",{className:"infor-section text-left"},c.a.createElement("p",{className:"mr-2 mb-0"},c.a.createElement("span",{className:"mr-2"},c.a.createElement(r.y,{icon:"calendar-alt"})),e.date),c.a.createElement("p",{className:"mr-2 mb-0"},e.time),c.a.createElement("p",null,"ltr"===a("DIRECTION")?"/":"\\"),c.a.createElement("p",{className:"mx-2 mb-0"},c.a.createElement("span",{className:"mr-2"},c.a.createElement(r.y,{icon:"user"})),"".concat(e.firstName," ").concat(e.lastName))),c.a.createElement("div",{className:"text-left"},e.comment),n<t.length-1&&c.a.createElement("hr",null))}))}),V=(a(515),function(e){var t=e.topics,a=Object(h.b)().t;return c.a.createElement(n.Fragment,null,c.a.createElement("hr",null),c.a.createElement("h4",null,a("POSTS.RELATED_TOPICS")),t.map(function(e,t){return c.a.createElement("div",{key:t,className:"my-2"},c.a.createElement("h6",null,e.topic))}))}),W=(a(516),function(e){Object(b.a)(e);var t=Object(l.h)().id,a=Object(h.b)().t,m=(Object(l.g)(),Object(S.c)(function(e){return e}).auth),i=Object(n.useState)(!0),s=Object(O.a)(i,2),u=s[0],E=s[1],d=Object(n.useState)({}),f=Object(O.a)(d,2),p=(f[0],f[1]),g=Object(n.useState)([]),j=Object(O.a)(g,2),I=j[0],L=j[1],P=Object(n.useState)([]),y=Object(O.a)(P,2),D=y[0],k=y[1],W=Object(n.useState)([]),z=Object(O.a)(W,2),K=z[0],G=z[1];Object(n.useEffect)(function(e){C.animateScroll.scrollToTop({duration:R.W}),A.a.get({id:t,userId:m.user?m.user.id:void 0}).then(function(e){e.result===R.T?(e.data.media.length&&(e.data.media=e.data.media.startsWith("http://")||e.data.media.startsWith("https://")?e.data.media:Object(M.sprintf)("%s%s",x.a.assetsBaseUrl,e.data.media)),L(e.data)):(L([]),p({show:!0,color:R.a,message:e.message})),E(!1)}).catch(function(e){L([]),p({show:!0,color:R.a,message:a("COMMON.ERROR.UNKNOWN_SERVER_ERROR")}),E(!1)}),A.a.commentList({postId:t}).then(function(e){e.result===R.T?k(e.data):k([])}).catch(function(e){k([])}),A.a.post2Topics({postId:t}).then(function(e){e.result===R.T?G(e.data):G([])}).catch(function(e){G([])})},[t]);return c.a.createElement("div",null,c.a.createElement(T.Helmet,null,c.a.createElement("title",null,a("POSTS.DETAIL.POST_DETAIL")," - ",a("SITE_NAME"))),c.a.createElement(r.e,null,c.a.createElement(r.f,null,c.a.createElement(N.b,{to:v.a.posts.all},a("NAVBAR.POSTS.POSTS"))),c.a.createElement(r.f,{active:!0},a("POSTS.DETAIL.POST_DETAIL"))),!!u&&c.a.createElement(w.a,null),!u&&(!I||!I.id)&&c.a.createElement(o.a,null),!u&&!!I&&!!I.id&&c.a.createElement(n.Fragment,null,c.a.createElement(r.P,null,c.a.createElement(r.p,{md:9},c.a.createElement(F,{data:I,comments:D.length,topics:K}),I.userId!==(m.user?m.user.id:-1)&&!I.commentId&&c.a.createElement(U,{commentId:I.id}),!!I.commentId&&c.a.createElement(r.b,{className:"mt-5 mb-3",color:"warning"},a("POSTS.DETAIL.ALREADY_WROTE_COMMENT")),c.a.createElement(B,{data:D})),c.a.createElement(r.p,{md:3},c.a.createElement("div",{className:"mt-10"},c.a.createElement(_.a,{detailLink:v.a.posts.detail,detailLabel:a("COMMON.BUTTON.DETAILS")})),c.a.createElement("div",{className:"text-left mt-10"},c.a.createElement(V,{topics:K}))))))}),z=(a(477),function(e){var t=e.id,a=e.date,l=e.time,m=(e.author,e.comments,e.media,e.title),i=e.description,s=e.detailLabel,o=e.detailLink,u=(Object(h.b)().t,i.length>R.t?i.substr(0,R.t)+" ...":i);return c.a.createElement(n.Fragment,null,c.a.createElement("h3",{className:"font-weight-bold mb-3 p-0"},c.a.createElement(N.b,{to:"".concat(o,"/").concat(t)},c.a.createElement("strong",null,m))),c.a.createElement("div",{className:"infor-section"},c.a.createElement("p",{className:"mr-2"},c.a.createElement("span",{className:"mr-2"},c.a.createElement(r.y,{icon:"calendar-alt"})),a),c.a.createElement("p",{className:"mr-2"},l)),c.a.createElement("p",{className:"dark-grey-text"},u),c.a.createElement(N.b,{to:"".concat(o,"/").concat(t)},c.a.createElement(r.g,{size:"sm",color:"indigo",flat:!0},s)))}),K=function(e){var t=e.items,a=e.detailLabel,l=e.detailLink,r=t.length-1;return c.a.createElement("div",{className:"text-left mt-3"},t.map(function(e,t){return c.a.createElement(n.Fragment,{key:e.id},c.a.createElement(z,{id:e.id,date:e.date,time:e.time,author:"".concat(e.firstName," ").concat(e.lastName),title:e.title,description:e.description,media:e.media,detailLabel:a,detailLink:l}),t<r&&c.a.createElement("hr",{className:"my-5"}))}))},G=(a(517),function(){var e=Object(l.h)().page,t=Object(h.b)().t,a=Object(l.g)(),m=Object(n.useState)(!0),i=Object(O.a)(m,2),s=i[0],o=i[1],u=Object(n.useState)({}),E=Object(O.a)(u,2),d=E[0],f=E[1],b=Object(n.useState)(0),p=Object(O.a)(b,2),N=p[0],g=p[1],S=Object(n.useState)([]),I=Object(O.a)(S,2),L=I[0],P=I[1],k=e?parseInt(e):1;Object(n.useEffect)(function(a){C.animateScroll.scrollToTop({duration:R.W}),A.a.magazines({page:e}).then(function(e){if(e.result===R.T){g(e.pageCount);var t=!0,a=!1,n=void 0;try{for(var c,l=e.data[Symbol.iterator]();!(t=(c=l.next()).done);t=!0){var r=c.value;r.media.length&&(r.media=r.media.startsWith("http://")||r.media.startsWith("https://")?r.media:Object(M.sprintf)("%s%s",x.a.assetsBaseUrl,r.media))}}catch(m){a=!0,n=m}finally{try{t||null==l.return||l.return()}finally{if(a)throw n}}P(e.data)}else f({show:!0,color:R.a,message:e.message});o(!1)}).catch(function(e){f({show:!0,color:R.a,message:t("COMMON.ERROR.UNKNOWN_SERVER_ERROR")}),o(!1)})},[e,t]);var _=function(e){a.push("".concat(v.a.posts.magazines,"/").concat(e))};return c.a.createElement(n.Fragment,null,c.a.createElement(T.Helmet,null,c.a.createElement("title",null,t("NAVBAR.POSTS.MAGAZINES")," - ",t("SITE_NAME"))),c.a.createElement(r.e,null,c.a.createElement(r.f,{active:!0},t("NAVBAR.POSTS.POSTS")),c.a.createElement(r.f,{active:!0},t("NAVBAR.POSTS.MAGAZINES"))),!!s&&c.a.createElement(w.a,null),!s&&!L.length&&c.a.createElement(y.a,null),!s&&!!L.length&&c.a.createElement(r.P,null,c.a.createElement(r.p,{md:12},c.a.createElement(j.a,{in:d.show,classNames:"fade-transition",timeout:R.W,unmountOnExit:!0,appear:!0},c.a.createElement(r.b,{color:d.color,dismiss:!0,onClosed:function(){return f({})}},d.message))),c.a.createElement(r.p,{md:12,className:"text-center"},c.a.createElement("div",{className:"mt-5"},c.a.createElement(D.a,{circle:!0,current:k,pageCount:N,width:10,onChange:_}))),c.a.createElement(r.p,{md:12},c.a.createElement(K,{items:L,detailLabel:t("COMMON.BUTTON.READ_MORE"),detailLink:v.a.posts.magazineDetail})),c.a.createElement(r.p,{md:12,className:"text-center"},c.a.createElement("div",{className:"mt-5"},c.a.createElement(D.a,{circle:!0,current:k,pageCount:N,width:10,onChange:_})))))}),Z=a(478),J=(a(518),function(e){var t=e.data,a=Object(h.b)().t;return c.a.createElement(n.Fragment,null,c.a.createElement("h3",{className:"font-weight-bold my-3 p-0 text-center h3-response"},c.a.createElement("strong",null,t.title)),c.a.createElement("div",{className:"infor-section text-left"},c.a.createElement("p",{className:"mr-2"},c.a.createElement("span",{className:"mr-2"},c.a.createElement(r.y,{icon:"calendar-alt"})),t.date),c.a.createElement("p",{className:"mr-2"},t.time)),c.a.createElement("div",{className:"text-center"},c.a.createElement(r.g,{tag:"a",color:"primary",rounded:!0,onClick:function(e){return function(e){var t=e.url,a=e.filename;Z.a.downloadFile({url:t,filename:a})}({url:t.media,filename:t.title})}},c.a.createElement(r.y,{icon:"file-pdf"})," ",a("COMMON.BUTTON.DOWNLOAD"))),c.a.createElement("div",null,c.a.createElement("div",{className:"text-left"},t.description)))}),H=a(470),Q=function(e){var t=e.detailLabel,a=e.detailLink,l=Object(h.b)().t,r=Object(n.useState)([]),m=Object(O.a)(r,2),i=m[0],s=m[1],o=(l("DIRECTION"),i.length-1);return Object(n.useEffect)(function(e){A.a.latestMagazines({limit:3}).then(function(e){e.result===R.T&&s(e.data)}).catch(function(e){})},[t,a,l]),c.a.createElement("div",{className:"text-left"},c.a.createElement("h5",{className:"mb-3 p-0"},l("POSTS.MAGAZINES.LATEST_MAGAZINES")),i.map(function(e,l){return c.a.createElement(n.Fragment,{key:e.id},c.a.createElement(H.a,{id:e.id,date:e.date,time:e.time,author:"".concat(e.firstName," ").concat(e.lastName),title:e.title,description:e.description,detailLabel:t,detailLink:a}),l<o&&c.a.createElement("hr",{className:"my-2"}))}))},Y=(a(519),function(e){Object(b.a)(e);var t=Object(l.h)().id,a=Object(h.b)().t,m=(Object(l.g)(),Object(S.c)(function(e){return e}).auth),i=Object(n.useState)(!0),s=Object(O.a)(i,2),u=s[0],E=s[1],d=Object(n.useState)({}),f=Object(O.a)(d,2),p=(f[0],f[1]),g=Object(n.useState)(),j=Object(O.a)(g,2),I=j[0],L=j[1],P=Object(n.useState)([]),y=Object(O.a)(P,2);y[0],y[1];Object(n.useEffect)(function(e){C.animateScroll.scrollToTop({duration:R.W}),A.a.getMagazine({id:t,userId:m.user?m.user.id:void 0}).then(function(e){e.result===R.T?(e.data.media.length&&(e.data.media=Object(M.sprintf)("%s%s",x.a.assetsBaseUrl,e.data.media)),L(e.data),console.log(e.data)):p({show:!0,color:R.a,message:e.message}),E(!1)}).catch(function(e){p({show:!0,color:R.a,message:a("COMMON.ERROR.UNKNOWN_SERVER_ERROR")}),E(!1)})},[t]);return c.a.createElement("div",null,c.a.createElement(T.Helmet,null,c.a.createElement("title",null,a("POSTS.MAGAZINES.MAGAZINE_DETAIL")," - ",a("SITE_NAME"))),c.a.createElement(r.e,null,c.a.createElement(r.f,null,a("NAVBAR.POSTS.POSTS")),c.a.createElement(r.f,null,c.a.createElement(N.b,{to:v.a.posts.magazines},a("NAVBAR.POSTS.MAGAZINES"))),c.a.createElement(r.f,{active:!0},a("POSTS.MAGAZINES.MAGAZINE_DETAIL"))),!!u&&c.a.createElement(w.a,null),!u&&(!I||!I.id)&&c.a.createElement(o.a,null),!u&&!!I&&!!I.id&&c.a.createElement(n.Fragment,null,c.a.createElement(r.P,null,c.a.createElement(r.p,{md:8},c.a.createElement(J,{data:I})),c.a.createElement(r.p,{md:4},c.a.createElement("div",{className:"mt-10"},c.a.createElement(Q,{detailLink:v.a.news.detail,detailLabel:a("COMMON.BUTTON.DETAILS")}))))))});a(520),t.default=function(){return c.a.createElement(n.Fragment,null,c.a.createElement(m.a,null),c.a.createElement(r.r,{className:"section"},c.a.createElement(l.d,null,c.a.createElement(u.a,{path:v.a.posts.add,component:L}),c.a.createElement(l.b,{path:"".concat(v.a.posts.magazines,"/:page?"),exact:!0,component:G}),c.a.createElement(l.b,{path:"".concat(v.a.posts.magazineDetail,"/:id"),component:Y}),c.a.createElement(l.b,{path:"".concat(v.a.posts.all,"/:page?"),exact:!0,component:k}),c.a.createElement(l.b,{path:"".concat(v.a.posts.detail,"/:id"),component:W}),c.a.createElement(l.b,{component:o.a}))),c.a.createElement(i.a,null),c.a.createElement(s.a,null))}}}]);