(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{408:function(e,t,a){"use strict";var n=a(47),c=a(0),r=a.n(c),l=a(8),o=a(31),i=a(412),s=a(24);t.a=function(e){var t=e.circle,a=e.current,u=e.pageCount,m=e.width,E=e.onChange,d=Object(s.b)().t,f=Object(c.useState)([]),O=Object(n.a)(f,2),b=O[0],p=O[1],g="ltr"===d("DIRECTION")?"left":"right",h="ltr"===d("DIRECTION")?"right":"left";return Object(c.useEffect)(function(e){var t=Math.ceil((m||(i.isMobile?o.r:o.q))/2),n=a-t<1?1:a-t,c=a+t-1>u?u:a+t-1;c-n<m&&(1===n&&(c=u<m?u:m),c===u&&(n=u-m+1<1?1:u-m+1));for(var r=[],l=n;l<=c;l++)r.push(l);p(r)},[a,u,m]),r.a.createElement(c.Fragment,null,u>0&&r.a.createElement(l.E,{circle:t},r.a.createElement(l.C,{disabled:1===a,onClick:function(){return E(1)}},r.a.createElement(l.D,{className:"page-link"},r.a.createElement(l.q,{icon:"angle-double-".concat(g)}))),r.a.createElement(l.C,{disabled:1===a,onClick:function(){return E(a-1)}},r.a.createElement(l.D,{className:"page-link"},r.a.createElement(l.q,{icon:"angle-".concat(g)}))),b.map(function(e,t){return r.a.createElement(l.C,{key:e,active:e===a,onClick:function(){return E(e)}},r.a.createElement(l.D,{className:"page-link"},e))}),r.a.createElement(l.C,{disabled:a===u,onClick:function(){return E(a+1)}},r.a.createElement(l.D,{className:"page-link"},r.a.createElement(l.q,{icon:"angle-".concat(h)}))),r.a.createElement(l.C,{disabled:a===u,onClick:function(){return E(u)}},r.a.createElement(l.D,{className:"page-link"},r.a.createElement(l.q,{icon:"angle-double-".concat(h)})))))}},409:function(e,t,a){"use strict";var n=a(0),c=a.n(n),r=a(24),l=a(124);a(122);t.a=function(e){var t=Object(r.b)().t;return c.a.createElement("div",{className:"loading-page"},c.a.createElement(l.a,{heading:t("COMMON.ERROR.SORRY"),message:t("COMMON.ERROR.NO_DATA")}))}},426:function(e,t,a){},458:function(e,t,a){},459:function(e,t,a){},460:function(e,t,a){},466:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(27),l=a(8),o=a(119),i=a(120),s=a(121),u=a(66),m=a(47),E=a(33),d=a(24),f=a(117),O=a(404),b=a(399),p=a(118),g=a(409),h=a(408),j=a(34),w=a(39),v=a(48),N=function(e){return new Promise(function(t,a){Object(j.a)(w.d,v.a.vote.list,e).then(function(e){t(e)},function(e){a(e)})})},C=function(e){return new Promise(function(t,a){Object(j.a)(w.d,v.a.vote.update,e).then(function(e){t(e)},function(e){a(e)})})},y=a(31),R=a(14),k=(a(426),function(e){var t=e.data,a=e.onUpdate,r=Object(d.b)().t,o=Object(n.useState)(),i=Object(m.a)(o,2),s=i[0],u=i[1];return c.a.createElement("div",{className:"text-left"},c.a.createElement("h4",{className:"text-primary font-weight-bold mb-3 p-0"},t.question),c.a.createElement("form",{onSubmit:function(e){e.preventDefault(),a({questionId:t.id,answerId:s})}},t.answers.map(function(e,t){return c.a.createElement(n.Fragment,{key:t},c.a.createElement(l.r,{onClick:function(t){return u(e.id)},checked:s===e.id,label:e.answer,type:"radio",id:"radio".concat(e.id)}))}),c.a.createElement(l.e,{type:"submit",size:"sm",color:"indigo",rounded:!0,className:"mt-3",disabled:!s},r("VOTE.VOTE"))))}),I=function(e){var t=e.data,a=Object(d.b)().t,r=Object(n.useState)(100),o=Object(m.a)(r,2),i=o[0],s=o[1],E=Object(n.useState)({}),f=Object(m.a)(E,2),O=f[0],b=f[1],p="ltr"===a("DIRECTION")?"/":"\\";return Object(n.useEffect)(function(e){var a={},n=!0,c=!1,r=void 0;try{for(var l,o=t.answers[Symbol.iterator]();!(n=(l=o.next()).done);n=!0){var i=l.value;a=Object.assign({},a,Object(u.a)({},i.answer,i.count))}}catch(m){c=!0,r=m}finally{try{n||null==o.return||o.return()}finally{if(c)throw r}}s(t.answersCount),b(a)},[t,a]),c.a.createElement("div",{className:"text-left"},c.a.createElement("h4",{className:"text-primary font-weight-bold mb-3 p-0"},t.question),t.answers.map(function(e,t){return c.a.createElement(n.Fragment,{key:t},c.a.createElement("p",{className:"mb-1"},e.answer),c.a.createElement(l.H,{className:"mt-0 mb-3",material:!0,value:(O[e.answer]||0)/i*100,animated:!0,height:"20px"},O[e.answer]," ",p," ",i))}))},S=(a(458),function(e){var t=e.items,a=e.onUpdate,r=t.length-1;return c.a.createElement(n.Fragment,null,t.map(function(e,t){return c.a.createElement("div",{key:t},(!!e.isEnded||!!e.answered)&&c.a.createElement(I,{data:e}),!e.isEnded&&!e.answered&&c.a.createElement(k,{data:e,onUpdate:a}),t<r&&c.a.createElement("hr",{className:"my-5"}))}))});a(459);function D(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function T(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?D(a,!0).forEach(function(t){Object(u.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):D(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var x=function(){var e=Object(r.h)().page,t=Object(d.b)().t,a=Object(r.g)(),o=Object(E.c)(function(e){return e}).auth,i=Object(n.useState)(!0),s=Object(m.a)(i,2),u=s[0],j=s[1],w=Object(n.useState)({}),v=Object(m.a)(w,2),k=v[0],I=v[1],D=Object(n.useState)(0),x=Object(m.a)(D,2),M=x[0],q=x[1],P=Object(n.useState)([]),V=Object(m.a)(P,2),F=V[0],U=V[1],_=e?parseInt(e):1;Object(n.useEffect)(function(e){f.animateScroll.scrollToTop({duration:y.y}),A()},[e,t]);var A=function(a){N({page:e,userId:o.user.id}).then(function(e){e.result===y.v?(q(e.pageCount),U(e.data),I(T({},k,{show:!1}))):I({show:!0,color:y.a,message:e.message}),j(!1)}).catch(function(e){I({show:!0,color:y.a,message:t("COMMON.ERROR.UNKNOWN_SERVER_ERROR")}),j(!1)})},H=function(e){a.push("".concat(R.a.vote.all,"/").concat(e))};return c.a.createElement(n.Fragment,null,c.a.createElement(O.Helmet,null,c.a.createElement("title",null,t("VOTE.VOTE")," - ",t("SITE_NAME"))),c.a.createElement(l.c,null,c.a.createElement(l.d,{active:!0},t("VOTE.VOTE"))),!!u&&c.a.createElement(p.a,null),!u&&!F.length&&c.a.createElement(g.a,null),!u&&!!F.length&&c.a.createElement(l.I,null,c.a.createElement(l.h,{md:12},c.a.createElement(b.a,{in:k.show,classNames:"fade-transition",timeout:y.y,unmountOnExit:!0,appear:!0},c.a.createElement(l.b,{color:k.color,dismiss:!0,onClosed:function(){return I({})}},k.message))),c.a.createElement(l.h,{md:12,className:"text-center"},c.a.createElement("div",{className:"mt-5"},c.a.createElement(h.a,{circle:!0,current:_,pageCount:M,width:10,onChange:H}))),c.a.createElement(l.h,{md:12},c.a.createElement(S,{items:F,onUpdate:function(a){var n=a.questionId,c=a.answerId;C({page:e,userId:o.user.id,questionId:n,answerId:c}).then(function(e){e.result===y.v?(q(e.pageCount),U(e.data),I(T({},k,{show:!1}))):I({show:!0,color:y.a,message:e.message}),j(!1)}).catch(function(e){I({show:!0,color:y.a,message:t("COMMON.ERROR.UNKNOWN_SERVER_ERROR")}),j(!1)})}})),c.a.createElement(l.h,{md:12,className:"text-center"},c.a.createElement("div",{className:"mt-5"},c.a.createElement(h.a,{circle:!0,current:_,pageCount:M,width:10,onChange:H})))))};a(460),t.default=function(){return c.a.createElement(n.Fragment,null,c.a.createElement(o.a,null),c.a.createElement(l.j,{className:"section"},c.a.createElement(r.d,null,c.a.createElement(r.b,{path:R.a.vote.all,exact:!0,component:x}),c.a.createElement(r.b,{path:"".concat(R.a.vote.all,"/:page"),exact:!0,component:x}))),c.a.createElement(i.a,null),c.a.createElement(s.a,null))}}}]);