(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{445:function(e,t,a){"use strict";var n=a(52),l=a(0),c=a.n(l),r=a(4),s=a(5),i=a(459),o=a(27);t.a=function(e){var t=e.circle,a=e.current,m=e.pageCount,u=e.width,E=e.onChange,d=Object(o.b)().t,O=Object(l.useState)([]),N=Object(n.a)(O,2),f=N[0],g=N[1],b="ltr"===d("DIRECTION")?"left":"right",h="ltr"===d("DIRECTION")?"right":"left";return Object(l.useEffect)(function(e){!u&&(u=i.isMobile?s.o:s.n);var t=Math.ceil(u/2),n=a-t<1?1:a-t,l=a+t-1>m?m:a+t-1;l-n<u&&(1===n&&(l=m<u?m:u),l===m&&(n=m-u+1<1?1:m-u+1));for(var c=[],r=n;r<=l;r++)c.push(r);g(c)},[a,m,u]),c.a.createElement(l.Fragment,null,m>0&&c.a.createElement(r.J,{circle:t},c.a.createElement(r.H,{disabled:1===a,onClick:function(){return E(1)}},c.a.createElement(r.I,{className:"page-link"},c.a.createElement(r.s,{icon:"angle-double-".concat(b)}))),c.a.createElement(r.H,{disabled:1===a,onClick:function(){return E(a-1)}},c.a.createElement(r.I,{className:"page-link"},c.a.createElement(r.s,{icon:"angle-".concat(b)}))),f.map(function(e,t){return c.a.createElement(r.H,{key:e,active:e===a,onClick:function(){return a!==e&&E(e)}},c.a.createElement(r.I,{className:"page-link"},e))}),c.a.createElement(r.H,{disabled:a===m,onClick:function(){return E(a+1)}},c.a.createElement(r.I,{className:"page-link"},c.a.createElement(r.s,{icon:"angle-".concat(h)}))),c.a.createElement(r.H,{disabled:a===m,onClick:function(){return E(m)}},c.a.createElement(r.I,{className:"page-link"},c.a.createElement(r.s,{icon:"angle-double-".concat(h)})))))}},450:function(e,t,a){"use strict";var n=a(458),l=a.n(n),c=a(5);t.a={isEmail:function(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())},isUsername:function(e){return e.length<=c.H&&/^[a-zA-Z_][0-9a-zA-Z_.-]+$/.test(String(e).toLowerCase())},isPhoneNumber:function(e){var t=l.a.PhoneNumberUtil.getInstance();try{var a=t.parseAndKeepRawInput(e);return t.isValidNumber(a)}catch(n){return!1}},isURL:function(e){return e.startsWith("http://")||e.startsWith("https://")}}},451:function(e,t,a){"use strict";var n=a(0),l=a.n(n),c=a(27),r=a(133);a(132);t.a=function(e){var t=Object(c.b)().t;return l.a.createElement("div",{className:"loading-page"},l.a.createElement(r.a,{heading:t("COMMON.ERROR.SORRY"),message:t("COMMON.ERROR.NO_DATA")}))}},461:function(e,t,a){"use strict";var n=a(39),l=a(42),c=a(64);t.a={list:function(e){return new Promise(function(t,a){Object(n.a)(l.d,c.a.news.list,e).then(function(e){t(e)},function(e){a(e)})})},save:function(e){return new Promise(function(t,a){Object(n.a)(l.d,c.a.news.save,e).then(function(e){t(e)},function(e){a(e)})})},delete:function(e){return new Promise(function(t,a){Object(n.a)(l.d,c.a.news.delete,e).then(function(e){t(e)},function(e){a(e)})})},get:function(e){return new Promise(function(t,a){Object(n.a)(l.d,c.a.news.get,e).then(function(e){t(e)},function(e){a(e)})})},count:function(e){return new Promise(function(t,a){Object(n.a)(l.d,c.a.news.count,e).then(function(e){t(e)},function(e){a(e)})})}}},501:function(e,t,a){},502:function(e,t,a){},503:function(e,t,a){},504:function(e,t,a){},541:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),c=a(33),r=a(4),s=a(128),i=a(129),o=a(131),m=a(130),u=a(10),E=a(52),d=a(38),O=a(27),N=a(126),f=a(444),g=a(439),b=a(456),h=a(64),p=a(5),R=(a(501),a(135)),j=function(e){var t=e.id,a=e.date,n=e.time,c=(e.author,e.comments,e.media),s=e.title,i=e.description,o=e.detailLabel,m=e.detailLink,u=e.handleDelete,E=Object(O.b)().t,N=i.length>p.e?i.substr(0,p.e)+" ...":i;return l.a.createElement(r.N,null,l.a.createElement(r.j,{lg:"5",xl:"4"},l.a.createElement(r.ab,{hover:!0,className:"rounded z-depth-1-half mb-lg-0 mb-4"},!!c.length&&l.a.createElement("img",{className:"img-fluid post-media",src:c,alt:""}),!c.length&&l.a.createElement("img",{className:"img-fluid post-media",src:R.a.newsListitem,alt:""}),l.a.createElement(d.b,{to:"".concat(m,"/").concat(t)},l.a.createElement(r.v,{overlay:"white-slight"})))),l.a.createElement(r.j,{lg:"7",xl:"8"},l.a.createElement("h3",{className:"font-weight-bold mb-3 p-0"},l.a.createElement(d.b,{to:"".concat(m,"/").concat(t)},l.a.createElement("strong",null,s))),l.a.createElement("div",{className:"infor-section"},l.a.createElement("p",{className:"mr-2"},l.a.createElement("span",{className:"mr-2"},l.a.createElement(r.s,{icon:"calendar-alt"})),a),l.a.createElement("p",{className:"mr-2"},n)),l.a.createElement("p",{className:"dark-grey-text"},N),l.a.createElement(d.b,{to:"".concat(m,"/").concat(t)},l.a.createElement(r.g,{size:"sm",rounded:!0,color:"indigo"},o)),l.a.createElement(r.g,{size:"sm",rounded:!0,color:"danger",onClick:function(e){return!!u&&u(t,s)}},E("COMMON.BUTTON.DELETE"))))},v=function(e){var t=e.items,a=e.detailLabel,c=e.detailLink,r=e.handleDelete,s=t.length-1;return l.a.createElement("div",{className:"text-left mt-3"},t.map(function(e,t){return l.a.createElement(n.Fragment,{key:e.id},l.a.createElement(j,{id:e.id,date:e.date,time:e.time,author:"".concat(e.firstName," ").concat(e.lastName),title:e.title,description:e.description,media:e.media,detailLabel:a,detailLink:c,handleDelete:r}),t<s&&l.a.createElement("hr",{className:"my-5"}))}))},S=a(127),M=a(451),C=a(445),D=a(461),w=(a(502),function(){var e=Object(c.h)().page,t=Object(O.b)().t,a=Object(c.g)(),s=Object(n.useState)(!0),i=Object(E.a)(s,2),o=i[0],m=i[1],R=Object(n.useState)({}),j=Object(E.a)(R,2),w=j[0],I=j[1],T=Object(n.useState)({}),A=Object(E.a)(T,2),L=A[0],W=A[1],U=Object(n.useState)(0),F=Object(E.a)(U,2),x=F[0],k=F[1],y=Object(n.useState)([]),_=Object(E.a)(y,2),B=_[0],P=_[1],V=e?parseInt(e):1;Object(n.useEffect)(function(a){N.animateScroll.scrollToTop({duration:p.F}),D.a.list({page:e}).then(function(e){if(e.result===p.B){k(e.pageCount);var t=!0,a=!1,n=void 0;try{for(var l,c=e.data[Symbol.iterator]();!(t=(l=c.next()).done);t=!0){var r=l.value;r.media.length&&(r.media=r.media.startsWith("http://")||r.media.startsWith("https://")?r.media:Object(b.sprintf)("%s%s",h.a.assetsBaseUrl,r.media))}}catch(s){a=!0,n=s}finally{try{t||null==c.return||c.return()}finally{if(a)throw n}}P(e.data)}else I({show:!0,color:p.a,message:e.message});m(!1)}).catch(function(e){I({show:!0,color:p.a,message:t("COMMON.ERROR.UNKNOWN_SERVER_ERROR")}),m(!1)})},[e,t]);var z=function(e){W(Object.assign({},L,{show:!L.show}))},H=function(e){a.push("".concat(u.a.news.all,"/").concat(e))};return l.a.createElement(n.Fragment,null,l.a.createElement(f.Helmet,null,l.a.createElement("title",null,t("NAVBAR.NEWS.NEWS")," - ",t("SITE_NAME"))),l.a.createElement(r.e,null,l.a.createElement(r.f,{active:!0},t("NAVBAR.NEWS.NEWS"))),!!o&&l.a.createElement(S.a,null),!o&&!B.length&&l.a.createElement(M.a,null),!o&&!!B.length&&l.a.createElement(r.N,null,l.a.createElement(r.j,{md:12},l.a.createElement(g.a,{in:w.show,classNames:"fade-transition",timeout:p.F,unmountOnExit:!0,appear:!0},l.a.createElement(r.b,{color:w.color,dismiss:!0,onClosed:function(){return I({})}},w.message))),l.a.createElement(r.j,{md:12,className:"text-center"},l.a.createElement("div",{className:"mt-5"},l.a.createElement(C.a,{circle:!0,current:V,pageCount:x,onChange:H}))),l.a.createElement(r.j,{md:12,className:"text-left mt-3"},l.a.createElement("div",{className:"full-width"},l.a.createElement(d.b,{to:u.a.news.add},l.a.createElement(r.g,{size:"sm",color:"primary"},t("NAVBAR.NEWS.ADD"))))),l.a.createElement(r.j,{md:12},l.a.createElement(v,{items:B,detailLabel:t("COMMON.BUTTON.MODIFY"),detailLink:u.a.news.add,handleDelete:function(e,a){W(Object.assign({},L,{show:!0,title:t("COMMON.BUTTON.DELETE"),message:t("COMMON.QUESTION.DELETE",{item:a}),deleteId:e}))}})),l.a.createElement(r.j,{md:12,className:"text-center"},l.a.createElement("div",{className:"mt-5"},l.a.createElement(C.a,{circle:!0,current:V,pageCount:x,onChange:H})))),l.a.createElement(r.w,{isOpen:!!L.show,toggle:z,centered:!0},l.a.createElement(r.z,{toggle:z},L.title),l.a.createElement(r.x,{className:"text-left"},L.message),l.a.createElement(r.y,null,l.a.createElement(r.g,{type:"button",color:"danger",onClick:function(a){D.a.delete({id:L.deleteId,page:e}).then(function(e){if(e.result===p.B){k(e.pageCount);var t=!0,a=!1,n=void 0;try{for(var l,c=e.data[Symbol.iterator]();!(t=(l=c.next()).done);t=!0){var r=l.value;r.media.length&&(r.media=r.media.startsWith("http://")||r.media.startsWith("https://")?r.media:Object(b.sprintf)("%s%s",h.a.assetsBaseUrl,r.media))}}catch(s){a=!0,n=s}finally{try{t||null==c.return||c.return()}finally{if(a)throw n}}P(e.data)}else I({show:!0,color:p.a,message:e.message}),N.animateScroll.scrollToTop({duration:p.F});m(!1),z()}).catch(function(e){I({show:!0,color:p.a,message:t("COMMON.ERROR.UNKNOWN_SERVER_ERROR")}),N.animateScroll.scrollToTop({duration:p.F}),m(!1),z()})}},t("COMMON.BUTTON.DELETE")),l.a.createElement(r.g,{type:"button",color:"secondary",onClick:z},t("COMMON.BUTTON.CANCEL")))))}),I=a(446),T=a.n(I),A=a(447),L=a(448),W=a(462),U=a(31),F=a(450),x=(a(503),function(e){Object(L.a)(e);var t=Object(c.h)().id,a=Object(O.b)().t,s=Object(c.g)(),i=Object(U.c)(function(e){return e}).auth,o=Object(n.useState)(!0),m=Object(E.a)(o,2),R=m[0],j=m[1],v=Object(n.useState)({}),M=Object(E.a)(v,2),C=M[0],w=M[1],I=Object(n.useState)({}),x=Object(E.a)(I,2),k=(x[0],x[1],Object(n.useState)({})),y=Object(E.a)(k,2),_=y[0],B=y[1],P=Object(n.useState)(),V=Object(E.a)(P,2),z=V[0],H=V[1],K=Object(n.useState)(""),Y=Object(E.a)(K,2),Z=Y[0],Q=Y[1],J=Object(n.useState)(""),$=Object(E.a)(J,2),X=$[0],q=$[1],G=Object(n.useState)(""),ee=Object(E.a)(G,2),te=ee[0],ae=ee[1],ne=Object(n.useState)(null),le=Object(E.a)(ne,2),ce=le[0],re=le[1],se=Object(n.useState)(""),ie=Object(E.a)(se,2),oe=ie[0],me=ie[1],ue=["jpg","jpeg","png"],Ee=Object(n.useRef)(null);Object(n.useEffect)(function(e){N.animateScroll.scrollToTop({duration:p.F}),H(t),!t&&j(!1),!t&&H(void 0),!t&&Q(""),!t&&q(""),!t&&ae(""),t&&D.a.get({id:t}).then(function(e){e.result===p.B?(Q(e.data.title),q(e.data.description),ae(e.data.url),e.data.media.length&&me(e.data.media.startsWith("http://")||e.data.media.startsWith("https://")?e.data.media:Object(b.sprintf)("%s%s",h.a.assetsBaseUrl,e.data.media))):w({show:!0,color:p.a,message:e.message}),j(!1)}).catch(function(e){console.log(e),w({show:!0,color:p.a,message:a("COMMON.ERROR.UNKNOWN_SERVER_ERROR")}),j(!1)})},[t]);var de=function(){var e=Object(A.a)(T.a.mark(function e(t){var n,l;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,n=new FormData,z&&n.append("id",z),n.append("userId",i.user.id),n.append("title",Z),n.append("description",X),n.append("url",te),n.append("file",ce),e.next=11,D.a.save(n);case 11:l=e.sent,!z&&H(l.data.insertId),w({show:!0,color:l.result,message:l.message}),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),w({show:!0,color:p.a,message:a("COMMON.ERROR.UNKNOWN_SERVER_ERROR")});case 19:case"end":return e.stop()}},e,null,[[1,16]])}));return function(t){return e.apply(this,arguments)}}();return l.a.createElement("div",null,l.a.createElement(f.Helmet,null,l.a.createElement("title",null,a(z?"NEWS.ADD.MODIFY_NEWS":"NEWS.ADD.ADD_NEWS")," - ",a("SITE_NAME"))),l.a.createElement(r.e,null,l.a.createElement(r.f,null,l.a.createElement(d.b,{to:u.a.news.all},a("NAVBAR.NEWS.NEWS"))),l.a.createElement(r.f,{active:!0},a(z?"NEWS.ADD.MODIFY_NEWS":"NEWS.ADD.ADD_NEWS"))),!!R&&l.a.createElement(S.a,null),!R&&l.a.createElement(r.h,null,l.a.createElement(r.i,{className:"mx-md-4 mx-sm-1 text-left"},l.a.createElement("form",{onSubmit:de},l.a.createElement("div",{className:"text-center"},l.a.createElement("h3",{className:"dark-grey-text mt-3 mb-0"},l.a.createElement("strong",null,a(z?"NEWS.ADD.MODIFY_NEWS":"NEWS.ADD.ADD_NEWS")))),l.a.createElement(r.N,null,l.a.createElement(r.j,{md:8},l.a.createElement(r.u,{label:a("NEWS.TITLE"),outline:!0,autoFocus:!0,value:Z,onChange:function(e){return Q(e.target.value)},onBlur:function(e){return B(Object.assign({},_,{title:!0}))}},_.title&&0===Z.length&&l.a.createElement("div",{className:"invalid-field"},a("COMMON.VALIDATION.REQUIRED",{field:a("NEWS.TITLE")}))),l.a.createElement(r.u,{label:a("NEWS.DESCRIPTION"),type:"textarea",rows:p.E,outline:!0,value:X,onChange:function(e){return q(e.target.value)},onBlur:function(e){return B(Object.assign({},_,{description:!0}))}},_.description&&0===X.length&&l.a.createElement("div",{className:"invalid-field"},a("COMMON.VALIDATION.REQUIRED",{field:a("NEWS.DESCRIPTION")}))),l.a.createElement(r.u,{label:a("NEWS.URL"),outline:!0,value:te,onChange:function(e){return ae(e.target.value)},onBlur:function(e){return B(Object.assign({},_,{url:!0}))}},_.url&&!!te.length&&!F.a.isURL(te)&&l.a.createElement("div",{className:"invalid-field"},te.length?a("COMMON.VALIDATION.INVALID",{field:a("NEWS.URL")}):a("COMMON.VALIDATION.REQUIRED",{field:a("NEWS.URL")})))),l.a.createElement(r.j,{md:4},l.a.createElement("div",{className:"md-form"},l.a.createElement(W.a,{ref:Ee,defaultFileSrc:oe,getValue:re,showRemove:!1,maxFileSize:p.h,allowedFileExtensions:ue,messageDefault:a("COMMON.FILE_UPLOAD.DEFAULT"),messageReplace:a("COMMON.FILE_UPLOAD.REPLACE"),messageRemove:a("COMMON.FILE_UPLOAD.REMOVE"),messageError:a("COMMON.FILE_UPLOAD.ERROR"),errorFileSize:a("COMMON.FILE_UPLOAD.ERROR_FILESIZE",{max:p.h}),errorFileExtension:a("COMMON.FILE_UPLOAD.ERROR_FILEEXTENSION",{extensions:ue.join(", ")})})))),l.a.createElement(g.a,{in:C.show,classNames:"fade-transition",timeout:p.F,unmountOnExit:!0,appear:!0},l.a.createElement(r.b,{color:C.color,dismiss:!0,onClosed:function(){return w({})}},C.message)),l.a.createElement(n.Fragment,null,l.a.createElement(r.g,{type:"submit",color:"indigo",size:"sm",disabled:!!R||!Z||!Z.length||!X||!X.length||!!te.length&&!F.a.isURL(te)},a(z?"COMMON.BUTTON.MODIFY":"COMMON.BUTTON.ADD")),l.a.createElement(r.g,{type:"button",color:"primary",size:"sm",disabled:!!R,onClick:function(e){w({}),H(void 0),Q(""),q(""),ae(""),re(null),me(""),Ee.current&&Ee.current.resetPreview(),B({}),s.push(u.a.news.add)}},a("COMMON.BUTTON.NEW")),l.a.createElement(r.g,{flat:!0,size:"sm",disabled:!!R,onClick:function(e){s.goBack()}},a("COMMON.BUTTON.BACK")))))))});a(504),t.default=function(){return l.a.createElement(n.Fragment,null,l.a.createElement(s.a,null),l.a.createElement(r.l,{className:"section"},l.a.createElement(c.d,null,l.a.createElement(c.b,{path:"".concat(u.a.news.add,"/:id"),component:x}),l.a.createElement(c.b,{path:u.a.news.add,component:x}),l.a.createElement(c.b,{path:u.a.news.all,exact:!0,component:w}),l.a.createElement(c.b,{path:"".concat(u.a.news.all,"/:page"),exact:!0,component:w}),l.a.createElement(c.b,{component:m.a}))),l.a.createElement(i.a,null),l.a.createElement(o.a,null))}}}]);