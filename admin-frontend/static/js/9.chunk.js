(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{445:function(e,t,a){"use strict";var n=a(52),c=a(0),l=a.n(c),r=a(4),o=a(5),s=a(459),i=a(27);t.a=function(e){var t=e.circle,a=e.current,m=e.pageCount,E=e.width,u=e.onChange,N=Object(i.b)().t,O=Object(c.useState)([]),d=Object(n.a)(O,2),f=d[0],g=d[1],b="ltr"===N("DIRECTION")?"left":"right",R="ltr"===N("DIRECTION")?"right":"left";return Object(c.useEffect)(function(e){!E&&(E=s.isMobile?o.o:o.n);var t=Math.ceil(E/2),n=a-t<1?1:a-t,c=a+t-1>m?m:a+t-1;c-n<E&&(1===n&&(c=m<E?m:E),c===m&&(n=m-E+1<1?1:m-E+1));for(var l=[],r=n;r<=c;r++)l.push(r);g(l)},[a,m,E]),l.a.createElement(c.Fragment,null,m>0&&l.a.createElement(r.J,{circle:t},l.a.createElement(r.H,{disabled:1===a,onClick:function(){return u(1)}},l.a.createElement(r.I,{className:"page-link"},l.a.createElement(r.s,{icon:"angle-double-".concat(b)}))),l.a.createElement(r.H,{disabled:1===a,onClick:function(){return u(a-1)}},l.a.createElement(r.I,{className:"page-link"},l.a.createElement(r.s,{icon:"angle-".concat(b)}))),f.map(function(e,t){return l.a.createElement(r.H,{key:e,active:e===a,onClick:function(){return a!==e&&u(e)}},l.a.createElement(r.I,{className:"page-link"},e))}),l.a.createElement(r.H,{disabled:a===m,onClick:function(){return u(a+1)}},l.a.createElement(r.I,{className:"page-link"},l.a.createElement(r.s,{icon:"angle-".concat(R)}))),l.a.createElement(r.H,{disabled:a===m,onClick:function(){return u(m)}},l.a.createElement(r.I,{className:"page-link"},l.a.createElement(r.s,{icon:"angle-double-".concat(R)})))))}},451:function(e,t,a){"use strict";var n=a(0),c=a.n(n),l=a(27),r=a(133);a(132);t.a=function(e){var t=Object(l.b)().t;return c.a.createElement("div",{className:"loading-page"},c.a.createElement(r.a,{heading:t("COMMON.ERROR.SORRY"),message:t("COMMON.ERROR.NO_DATA")}))}},467:function(e,t,a){},512:function(e,t,a){},513:function(e,t,a){},514:function(e,t,a){},515:function(e,t,a){},516:function(e,t,a){},517:function(e,t,a){},518:function(e,t,a){},519:function(e,t,a){},538:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),l=a(33),r=a(4),o=a(128),s=a(129),i=a(131),m=a(130),E=a(10),u=a(52),N=a(38),O=a(27),d=a(126),f=a(444),g=a(439),b=a(127),R=a(451),A=a(445),I=a(39),S=a(42),p=a(64),T=function(e){return new Promise(function(t,a){Object(I.a)(S.d,p.a.questionnaire.packages,e).then(function(e){t(e)},function(e){a(e)})})},h=function(e){return new Promise(function(t,a){Object(I.a)(S.d,p.a.questionnaire.savePackage,e).then(function(e){t(e)},function(e){a(e)})})},j=function(e){return new Promise(function(t,a){Object(I.a)(S.d,p.a.questionnaire.deletePackage,e).then(function(e){t(e)},function(e){a(e)})})},U=function(e){return new Promise(function(t,a){Object(I.a)(S.d,p.a.questionnaire.getPackage,e).then(function(e){t(e)},function(e){a(e)})})},C=function(e){return new Promise(function(t,a){Object(I.a)(S.d,p.a.questionnaire.questions,e).then(function(e){t(e)},function(e){a(e)})})},w=function(e){return new Promise(function(t,a){Object(I.a)(S.d,p.a.questionnaire.saveQuestion,e).then(function(e){t(e)},function(e){a(e)})})},v=function(e){return new Promise(function(t,a){Object(I.a)(S.d,p.a.questionnaire.deleteQuestion,e).then(function(e){t(e)},function(e){a(e)})})},M=function(e){return new Promise(function(t,a){Object(I.a)(S.d,p.a.questionnaire.getQuestion,e).then(function(e){t(e)},function(e){a(e)})})},D=function(e){return new Promise(function(t,a){Object(I.a)(S.d,p.a.questionnaire.answers,e).then(function(e){t(e)},function(e){a(e)})})},Q=function(e){return new Promise(function(t,a){Object(I.a)(S.d,p.a.questionnaire.saveAnswer,e).then(function(e){t(e)},function(e){a(e)})})},y=function(e){return new Promise(function(t,a){Object(I.a)(S.d,p.a.questionnaire.deleteAnswer,e).then(function(e){t(e)},function(e){a(e)})})},k=function(e){return new Promise(function(t,a){Object(I.a)(S.d,p.a.questionnaire.getAnswer,e).then(function(e){t(e)},function(e){a(e)})})},x=function(e){return new Promise(function(t,a){Object(I.a)(S.d,p.a.questionnaire.result,e).then(function(e){t(e)},function(e){a(e)})})},_=function(e){return new Promise(function(t,a){Object(I.a)(S.d,p.a.questionnaire.publish,e).then(function(e){t(e)},function(e){a(e)})})},B=function(e){return new Promise(function(t,a){Object(I.a)(S.d,p.a.questionnaire.attachments,e).then(function(e){t(e)},function(e){a(e)})})},q=a(5),P=(a(512),function(){var e=Object(l.h)().page,t=Object(O.b)().t,a=Object(l.g)(),o=Object(n.useState)(!0),s=Object(u.a)(o,2),i=s[0],m=s[1],I=Object(n.useState)({}),S=Object(u.a)(I,2),p=S[0],h=S[1],U=Object(n.useState)({}),C=Object(u.a)(U,2),w=C[0],v=C[1],M=Object(n.useState)(0),D=Object(u.a)(M,2),Q=D[0],y=D[1],k=Object(n.useState)([]),x=Object(u.a)(k,2),_=x[0],B=x[1],P=e?parseInt(e):1,K=[{label:"#",field:"id",sort:"asc"},{label:t("QUESTIONNAIRE.PACKAGE"),field:"question",sort:"asc"},{label:t("QUESTIONNAIRE.START_DATE"),field:"startDate",sort:"asc"},{label:t("QUESTIONNAIRE.END_DATE"),field:"endDate",sort:"asc"},{label:t("QUESTIONNAIRE.RELEASED_DATE"),field:"endDate",sort:"asc"},{label:"",field:"button",sort:"asc"}];Object(n.useEffect)(function(a){d.animateScroll.scrollToTop({duration:q.F}),T({page:e}).then(function(e){if(e.result===q.B){var t=!0,a=!1,n=void 0;try{for(var c,l=e.data[Symbol.iterator]();!(t=(c=l.next()).done);t=!0){var r=c.value;r.button=W(r)}}catch(o){a=!0,n=o}finally{try{t||null==l.return||l.return()}finally{if(a)throw n}}y(e.pageCount),B(e.data)}else h({show:!0,color:q.a,message:e.message});m(!1)}).catch(function(e){h({show:!0,color:q.a,message:t("COMMON.ERROR.UNKNOWN_SERVER_ERROR")}),m(!1)})},[e,t]);var W=function(t){var a=t.id,l=t.number,o=t.requireAttachment;return c.a.createElement(n.Fragment,null,c.a.createElement(N.b,{to:"".concat(E.a.questionnaire.addPackage,"/").concat(e||1,"/").concat(a)},c.a.createElement(r.g,{tag:"a",size:"sm",color:"indigo",floating:!0},c.a.createElement(r.s,{icon:"edit"}))),c.a.createElement(N.b,{to:"".concat(E.a.questionnaire.questions,"/").concat(a,"/1/").concat(e||1)},c.a.createElement(r.g,{tag:"a",size:"sm",color:"primary",className:"mx-2",floating:!0},c.a.createElement(r.s,{icon:"list"}))),c.a.createElement(N.b,{to:"".concat(E.a.questionnaire.result,"/").concat(a,"/1/").concat(e||1)},c.a.createElement(r.g,{tag:"a",size:"sm",color:"indigo",className:"mr-2",floating:!0},c.a.createElement(r.s,{icon:"eye"}))),c.a.createElement(r.g,{tag:"a",size:"sm",color:"default",className:"mr-2",floating:!0,onClick:function(e){return z({id:a,number:l})},disabled:!o},c.a.createElement(r.s,{icon:"download"})),c.a.createElement(r.g,{tag:"a",size:"sm",color:"danger",floating:!0,onClick:function(e){return L(a,"#"+l)}},c.a.createElement(r.s,{icon:"trash"})))},V=function(e){v(Object.assign({},w,{show:!w.show}))},F=function(e){a.push("".concat(E.a.questionnaire.packages,"/").concat(e))},z=function(t){var n=t.id;t.number;a.push("".concat(E.a.questionnaire.attachments,"/").concat(n,"/1/").concat(e||1))},L=function(e,a){v(Object.assign({},w,{show:!0,title:t("COMMON.BUTTON.DELETE"),message:t("COMMON.QUESTION.DELETE",{item:a}),deleteId:e}))};return c.a.createElement(n.Fragment,null,c.a.createElement(f.Helmet,null,c.a.createElement("title",null,t("NAVBAR.QUESTIONNAIRE.PACKAGES")," - ",t("SITE_NAME"))),c.a.createElement(r.e,null,c.a.createElement(r.f,null,t("NAVBAR.QUESTIONNAIRE.QUESTIONNAIRE")),c.a.createElement(r.f,{active:!0},t("NAVBAR.QUESTIONNAIRE.PACKAGES"))),!!i&&c.a.createElement(b.a,null),!i&&!_.length&&c.a.createElement(R.a,null),!i&&!!_.length&&c.a.createElement(r.N,null,c.a.createElement(r.j,{md:12},c.a.createElement("h3",{className:"mt-4 font-weight-bold text-center"},t("NAVBAR.QUESTIONNAIRE.PACKAGES"))),c.a.createElement(r.j,{md:12},c.a.createElement(g.a,{in:p.show,classNames:"fade-transition",timeout:q.F,unmountOnExit:!0,appear:!0},c.a.createElement(r.b,{color:p.color,dismiss:!0,onClosed:function(){return h({})}},p.message))),c.a.createElement(r.j,{md:12,className:"text-center"},c.a.createElement("div",{className:"mt-5"},c.a.createElement(A.a,{circle:!0,current:P,pageCount:Q,onChange:F}))),c.a.createElement(r.j,{md:12,className:"text-left mt-3"},c.a.createElement("div",{className:"full-width"},c.a.createElement(N.b,{to:"".concat(E.a.questionnaire.addPackage,"/").concat(e||1)},c.a.createElement(r.g,{size:"sm",color:"primary"},t("NAVBAR.QUESTIONNAIRE.ADD_PACKAGE"))))),c.a.createElement(r.j,{md:12},c.a.createElement(r.W,{responsive:!0,striped:!0},c.a.createElement(r.Y,null,c.a.createElement("tr",{className:"text-left"},K.map(function(e,t){return c.a.createElement("th",{key:t},e.label)}))),c.a.createElement(r.X,null,_.map(function(e,t){return c.a.createElement("tr",{key:t,className:"text-left"},c.a.createElement("td",null,e.number),c.a.createElement("td",null,e.name," ",!!e.ended&&!e.releasedDate.length&&c.a.createElement(r.s,{className:"text-danger",icon:"exclamation-circle"})),c.a.createElement("td",{className:"date-col"},e.startDate),c.a.createElement("td",{className:"date-col"},e.endDate),c.a.createElement("td",{className:"date-col2"},e.releasedDate),c.a.createElement("td",{className:"p-2 edit-col5"},e.button))})))),c.a.createElement(r.j,{md:12,className:"text-center"},c.a.createElement("div",{className:"mt-5"},c.a.createElement(A.a,{circle:!0,current:P,pageCount:Q,onChange:F})))),c.a.createElement(r.w,{isOpen:!!w.show,toggle:V,centered:!0},c.a.createElement(r.z,{toggle:V},w.title),c.a.createElement(r.x,{className:"text-left"},w.message),c.a.createElement(r.y,null,c.a.createElement(r.g,{type:"button",color:"danger",onClick:function(a){j({id:w.deleteId,page:e}).then(function(e){if(e.result===q.B){var t=!0,a=!1,n=void 0;try{for(var c,l=e.data[Symbol.iterator]();!(t=(c=l.next()).done);t=!0){var r=c.value;r.button=W(r)}}catch(o){a=!0,n=o}finally{try{t||null==l.return||l.return()}finally{if(a)throw n}}y(e.pageCount),B(e.data)}else h({show:!0,color:q.a,message:e.message}),d.animateScroll.scrollToTop({duration:q.F});m(!1),V()}).catch(function(e){h({show:!0,color:q.a,message:t("COMMON.ERROR.UNKNOWN_SERVER_ERROR")}),d.animateScroll.scrollToTop({duration:q.F}),m(!1),V()})}},t("COMMON.BUTTON.DELETE")),c.a.createElement(r.g,{type:"button",color:"secondary",onClick:V},t("COMMON.BUTTON.CANCEL")))))}),K=a(446),W=a.n(K),V=a(447),F=a(448),z=a(31),L=a(457),G=a.n(L),H=(a(467),function(e){Object(F.a)(e);var t=Object(l.h)(),a=t.id,o=t.page,s=Object(O.b)().t,i=Object(l.g)(),m=Object(z.c)(function(e){return e}).auth,R=Object(n.useState)(!0),A=Object(u.a)(R,2),I=A[0],S=A[1],p=Object(n.useState)({}),T=Object(u.a)(p,2),j=T[0],C=T[1],w=Object(n.useState)({}),v=Object(u.a)(w,2),M=(v[0],v[1],Object(n.useState)({})),D=Object(u.a)(M,2),Q=D[0],y=D[1],k=Object(n.useState)(),x=Object(u.a)(k,2),_=x[0],B=x[1],P=Object(n.useState)(""),K=Object(u.a)(P,2),L=K[0],H=K[1],Y=Object(n.useState)(),X=Object(u.a)(Y,2),J=X[0],Z=X[1],$=Object(n.useState)(),ee=Object(u.a)($,2),te=ee[0],ae=ee[1],ne=Object(n.useState)(!1),ce=Object(u.a)(ne,2),le=ce[0],re=ce[1],oe=Object(n.createRef)(null),se=Object(n.createRef)(null);Object(n.useEffect)(function(e){d.animateScroll.scrollToTop({duration:q.F}),B(a),!a&&S(!1),!a&&B(void 0),!a&&H(""),!a&&Z(new Date),!a&&ae(new Date),a&&U({id:a}).then(function(e){e.result===q.B?(H(e.data.name),Z(e.data.startDate),ae(e.data.endDate)):C({show:!0,color:q.a,message:e.message}),S(!1)}).catch(function(e){console.log(e),C({show:!0,color:q.a,message:s("COMMON.ERROR.UNKNOWN_SERVER_ERROR")}),S(!1)})},[a]);var ie=function(){var e=Object(V.a)(W.a.mark(function e(t){var a;return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,h({id:_,userId:m.user.id,name:L,startDate:G()(J,"yyyy-mm-dd"),endDate:G()(te,"yyyy-mm-dd"),requireAttachment:le});case 4:a=e.sent,!_&&B(a.data.insertId),C({show:!0,color:a.result,message:a.message}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),C({show:!0,color:q.a,message:s("COMMON.ERROR.UNKNOWN_SERVER_ERROR")});case 12:case"end":return e.stop()}},e,null,[[1,9]])}));return function(t){return e.apply(this,arguments)}}();return c.a.createElement("div",null,c.a.createElement(f.Helmet,null,c.a.createElement("title",null,s(_?"QUESTIONNAIRE.ADD_PACKAGE.MODIFY_PACKAGE":"QUESTIONNAIRE.ADD_PACKAGE.ADD_PACKAGE")," - ",s("SITE_NAME"))),c.a.createElement(r.e,null,c.a.createElement(r.f,null,s("NAVBAR.QUESTIONNAIRE.QUESTIONNAIRE")),c.a.createElement(r.f,null,c.a.createElement(N.b,{to:"".concat(E.a.questionnaire.packages,"/").concat(o||1)},s("NAVBAR.QUESTIONNAIRE.PACKAGES"))),c.a.createElement(r.f,{active:!0},s(_?"QUESTIONNAIRE.ADD_PACKAGE.MODIFY_PACKAGE":"QUESTIONNAIRE.ADD_PACKAGE.ADD_PACKAGE"))),!!I&&c.a.createElement(b.a,null),!I&&c.a.createElement(r.h,null,c.a.createElement(r.i,{className:"mx-md-4 mx-sm-1 text-left"},c.a.createElement("form",{onSubmit:ie},c.a.createElement("div",{className:"text-center"},c.a.createElement("h3",{className:"dark-grey-text mt-3 mb-0"},c.a.createElement("strong",null,s(_?"QUESTIONNAIRE.ADD_PACKAGE.MODIFY_PACKAGE":"QUESTIONNAIRE.ADD_PACKAGE.ADD_PACKAGE")))),c.a.createElement(r.N,null,c.a.createElement(r.j,{md:12},c.a.createElement(r.u,{label:s("QUESTIONNAIRE.PACKAGE"),outline:!0,autoFocus:!0,value:L,onChange:function(e){return H(e.target.value)},onBlur:function(e){return y(Object.assign({},Q,{name:!0}))}},Q.name&&0===L.length&&c.a.createElement("div",{className:"invalid-field"},s("COMMON.VALIDATION.REQUIRED",{field:s("QUESTIONNAIRE.PACKAGE")}))))),c.a.createElement(r.N,null,c.a.createElement(r.j,{md:6},c.a.createElement(r.m,{ref:oe,format:q.b,autoOk:!0,keyboard:!0,className:"date-picker",value:J,getValue:function(e){return Z(e)}}),c.a.createElement("label",{className:"date-picker-label"},s("QUESTIONNAIRE.START_DATE"))),c.a.createElement(r.j,{md:6},c.a.createElement(r.m,{ref:se,format:q.b,autoOk:!0,keyboard:!0,className:"date-picker",value:te,getValue:function(e){return ae(e)}}),c.a.createElement("label",{className:"date-picker-label"},s("QUESTIONNAIRE.END_DATE")))),c.a.createElement(r.N,null,c.a.createElement(r.j,{md:"12",className:"mb-4"},c.a.createElement(r.u,{id:"requireAttachment",type:"checkbox",checked:le,filled:!0,onClick:function(e){return re(!le)},label:s("QUESTIONNAIRE.REQUIRE_ATTACHMENT")}))),c.a.createElement(g.a,{in:j.show,classNames:"fade-transition",timeout:q.F,unmountOnExit:!0,appear:!0},c.a.createElement(r.b,{color:j.color,dismiss:!0,onClosed:function(){return C({})}},j.message)),c.a.createElement(n.Fragment,null,c.a.createElement(r.g,{type:"submit",color:"indigo",size:"sm",disabled:!L||!L.length},s(_?"COMMON.BUTTON.MODIFY":"COMMON.BUTTON.ADD")),c.a.createElement(r.g,{type:"button",color:"primary",size:"sm",disabled:!!I,onClick:function(e){C({}),B(void 0),H(""),oe.current&&(oe.current.state.selectedDate=G()(new Date,"yyyy-mm-dd")),se.current&&(se.current.state.selectedDate=G()(new Date,"yyyy-mm-dd")),y({}),i.push("".concat(E.a.questionnaire.addPackage))}},s("COMMON.BUTTON.NEW")),c.a.createElement(r.g,{flat:!0,size:"sm",onClick:function(e){i.goBack()}},s("COMMON.BUTTON.BACK")))))))}),Y=(a(513),function(){var e=Object(l.h)(),t=e.packageId,a=e.page,o=e.page2,s=(e.page3,Object(O.b)().t),i=Object(l.g)(),m=Object(n.useState)(!0),R=Object(u.a)(m,2),I=R[0],S=R[1],p=Object(n.useState)({}),T=Object(u.a)(p,2),h=T[0],j=T[1],w=Object(n.useState)({}),M=Object(u.a)(w,2),D=M[0],Q=M[1],y=Object(n.useState)(0),k=Object(u.a)(y,2),x=k[0],_=k[1],B=Object(n.useState)([]),P=Object(u.a)(B,2),K=P[0],W=P[1],V=Object(n.useState)(""),F=Object(u.a)(V,2),z=F[0],L=F[1],G=a?parseInt(a):1,H=[{label:"#",field:"id",sort:"asc"},{label:s("QUESTIONNAIRE.QUESTION"),field:"question",sort:"asc"},{label:s("QUESTIONNAIRE.TYPE"),field:"type",sort:"asc"},{label:"",field:"button",sort:"asc"}];Object(n.useEffect)(function(e){d.animateScroll.scrollToTop({duration:q.F}),Y()},[a,s]);var Y=function(){U({id:t}).then(function(e){e.result===q.B?L(e.data.name):j({show:!0,color:q.a,message:e.message})}).catch(function(e){j({show:!0,color:q.a,message:s("COMMON.ERROR.UNKNOWN_SERVER_ERROR")})}),C({packageId:t,page:a}).then(function(e){if(e.result===q.B){var t=!0,a=!1,n=void 0;try{for(var c,l=e.data[Symbol.iterator]();!(t=(c=l.next()).done);t=!0){var r=c.value;r.question=r.question.length>q.C?r.question.substring(0,q.C)+"...":r.question,r.button=X(r)}}catch(o){a=!0,n=o}finally{try{t||null==l.return||l.return()}finally{if(a)throw n}}_(e.pageCount),W(e.data)}else j({show:!0,color:q.a,message:e.message});S(!1)}).catch(function(e){j({show:!0,color:q.a,message:s("COMMON.ERROR.UNKNOWN_SERVER_ERROR")}),S(!1)})},X=function(e){var l=e.id,s=e.number,i=e.type===q.y;return c.a.createElement(n.Fragment,null,c.a.createElement(N.b,{to:"".concat(E.a.questionnaire.addQuestion,"/").concat(t,"/").concat(a||1,"/").concat(o||1,"/").concat(l)},c.a.createElement(r.g,{tag:"a",size:"sm",color:"indigo",floating:!0},c.a.createElement(r.s,{icon:"edit"}))),c.a.createElement(N.b,{to:!i&&"".concat(E.a.questionnaire.answers,"/").concat(l,"/").concat(t,"/1/").concat(a||1,"/").concat(o||1)},c.a.createElement(r.g,{tag:"a",size:"sm",color:i?"mdb-color":"primary",className:"mx-2",floating:!0,disabled:i},c.a.createElement(r.s,{icon:"comments"}))),c.a.createElement(r.g,{tag:"a",size:"sm",color:"danger",floating:!0,onClick:function(e){return $(l,"#"+s)}},c.a.createElement(r.s,{icon:"trash"})))},J=function(e){Q(Object.assign({},D,{show:!D.show}))},Z=function(e){i.push("".concat(E.a.questionnaire.questions,"/").concat(t,"/").concat(e,"/").concat(o||1))},$=function(e,t){Q(Object.assign({},D,{show:!0,title:s("COMMON.BUTTON.DELETE"),message:s("COMMON.QUESTION.DELETE",{item:t}),deleteId:e}))};return c.a.createElement(n.Fragment,null,c.a.createElement(f.Helmet,null,c.a.createElement("title",null,s("NAVBAR.QUESTIONNAIRE.QUESTIONS")," - ",s("SITE_NAME"))),c.a.createElement(r.e,null,c.a.createElement(r.f,null,s("NAVBAR.QUESTIONNAIRE.QUESTIONNAIRE")),c.a.createElement(r.f,null,c.a.createElement(N.b,{to:"".concat(E.a.questionnaire.packages,"/").concat(o||1)},s("NAVBAR.QUESTIONNAIRE.PACKAGES"))),c.a.createElement(r.f,{active:!0},s("QUESTIONNAIRE.QUESTIONS.QUESTIONS"))),!!I&&c.a.createElement(b.a,null),!I&&c.a.createElement(r.N,null,c.a.createElement(r.j,{md:12},c.a.createElement("h3",{className:"mt-4 font-weight-bold text-center"},s("NAVBAR.QUESTIONNAIRE.QUESTIONS")),c.a.createElement("p",{className:"text-left"},c.a.createElement("span",{className:"font-weight-bold"},s("QUESTIONNAIRE.PACKAGE"),": "),z)),c.a.createElement(r.j,{md:12},c.a.createElement(g.a,{in:h.show,classNames:"fade-transition",timeout:q.F,unmountOnExit:!0,appear:!0},c.a.createElement(r.b,{color:h.color,dismiss:!0,onClosed:function(){return j({})}},h.message))),c.a.createElement(r.j,{md:12,className:"text-center"},c.a.createElement("div",{className:"mt-5"},c.a.createElement(A.a,{circle:!0,current:G,pageCount:x,onChange:Z}))),c.a.createElement(r.j,{md:12,className:"text-left mt-3"},c.a.createElement("div",{className:"full-width"},c.a.createElement(N.b,{to:"".concat(E.a.questionnaire.addQuestion,"/").concat(t,"/").concat(a||1,"/").concat(o||1)},c.a.createElement(r.g,{size:"sm",color:"primary"},s("NAVBAR.QUESTIONNAIRE.ADD_QUESTION"))),c.a.createElement(r.g,{size:"sm",color:"warning",onClick:function(e){i.goBack()}},s("COMMON.BUTTON.BACK")))),c.a.createElement(r.j,{md:12},c.a.createElement(r.W,{responsive:!0,striped:!0},c.a.createElement(r.Y,null,c.a.createElement("tr",{className:"text-left"},H.map(function(e,t){return c.a.createElement("th",{key:t},e.label)}))),c.a.createElement(r.X,null,!K.length&&c.a.createElement("tr",null,c.a.createElement("td",{colSpan:5,className:"text-center"},s("COMMON.ERROR.NO_DATA"))),!!K.length&&K.map(function(e,t){return c.a.createElement("tr",{key:t,className:"text-left"},c.a.createElement("td",null,e.number),c.a.createElement("td",null,e.question),c.a.createElement("td",null,e.type2),c.a.createElement("td",{className:"p-2 edit-col3"},e.button))})))),c.a.createElement(r.j,{md:12,className:"text-center"},c.a.createElement("div",{className:"mt-5"},c.a.createElement(A.a,{circle:!0,current:G,pageCount:x,onChange:Z})))),c.a.createElement(r.w,{isOpen:!!D.show,toggle:J,centered:!0},c.a.createElement(r.z,{toggle:J},D.title),c.a.createElement(r.x,{className:"text-left"},D.message),c.a.createElement(r.y,null,c.a.createElement(r.g,{type:"button",color:"danger",onClick:function(e){v({id:D.deleteId,packageId:t,page:a}).then(function(e){if(e.result===q.B){var t=!0,a=!1,n=void 0;try{for(var c,l=e.data[Symbol.iterator]();!(t=(c=l.next()).done);t=!0){var r=c.value;r.question=r.question.length>q.C?r.question.substring(0,q.C)+"...":r.question,r.button=X(r.id,r.number)}}catch(o){a=!0,n=o}finally{try{t||null==l.return||l.return()}finally{if(a)throw n}}_(e.pageCount),W(e.data)}else j({show:!0,color:q.a,message:e.message}),d.animateScroll.scrollToTop({duration:q.F});S(!1),J()}).catch(function(e){j({show:!0,color:q.a,message:s("COMMON.ERROR.UNKNOWN_SERVER_ERROR")}),d.animateScroll.scrollToTop({duration:q.F}),S(!1),J()})}},s("COMMON.BUTTON.DELETE")),c.a.createElement(r.g,{type:"button",color:"secondary",onClick:J},s("COMMON.BUTTON.CANCEL")))))}),X=function(e){var t=e.method,a=e.url,n=e.filename,c=e.params;return new Promise(function(e,l){Object(I.a)(t,a,c,{Accept:"application/octet-stream"},{responseType:"blob"}).then(function(t){var a=window.URL.createObjectURL(t),c=document.createElement("a");c.setAttribute("href",a),c.setAttribute("download",n),c.style.display="none",document.body.appendChild(c),c.click(),document.body.removeChild(c),window.URL.revokeObjectURL(a),e(t)},function(e){l(e)})})},J=(a(514),function(){var e=Object(l.h)(),t=e.packageId,a=e.page,o=e.page2,s=(e.page3,Object(O.b)().t),i=Object(l.g)(),m=Object(n.useState)(!0),R=Object(u.a)(m,2),I=R[0],T=R[1],h=Object(n.useState)({}),j=Object(u.a)(h,2),C=j[0],w=j[1],v=Object(n.useState)({}),M=Object(u.a)(v,2),D=(M[0],M[1],Object(n.useState)(0)),Q=Object(u.a)(D,2),y=Q[0],k=Q[1],x=Object(n.useState)([]),_=Object(u.a)(x,2),P=_[0],K=_[1],W=Object(n.useState)(""),V=Object(u.a)(W,2),F=V[0],z=V[1],L=a?parseInt(a):1,G=s("NAVBAR.QUESTIONNAIRE.ATTACHMENTS");Object(n.useEffect)(function(e){d.animateScroll.scrollToTop({duration:q.F}),H()},[a,s]);var H=function(){U({id:t}).then(function(e){e.result===q.B?z(e.data.name):w({show:!0,color:q.a,message:e.message})}).catch(function(e){w({show:!0,color:q.a,message:s("COMMON.ERROR.UNKNOWN_SERVER_ERROR")})}),B({questionnaireId:t,page:a}).then(function(e){e.result===q.B?(k(e.pageCount),K(e.data)):w({show:!0,color:q.a,message:e.message}),T(!1)}).catch(function(e){w({show:!0,color:q.a,message:s("COMMON.ERROR.UNKNOWN_SERVER_ERROR")}),T(!1)})},Y=function(e){i.push("".concat(E.a.questionnaire.attachments,"/").concat(t,"/").concat(e,"/").concat(o||1))};return c.a.createElement(n.Fragment,null,c.a.createElement(f.Helmet,null,c.a.createElement("title",null,G," - ",s("SITE_NAME"))),c.a.createElement(r.e,null,c.a.createElement(r.f,null,s("NAVBAR.QUESTIONNAIRE.QUESTIONNAIRE")),c.a.createElement(r.f,null,c.a.createElement(N.b,{to:"".concat(E.a.questionnaire.packages,"/").concat(o||1)},s("NAVBAR.QUESTIONNAIRE.PACKAGES"))),c.a.createElement(r.f,{active:!0},G)),!!I&&c.a.createElement(b.a,null),!I&&c.a.createElement(r.N,null,c.a.createElement(r.j,{md:12},c.a.createElement("h3",{className:"mt-4 font-weight-bold text-center"},G),c.a.createElement("p",{className:"text-left"},c.a.createElement("span",{className:"font-weight-bold"},s("QUESTIONNAIRE.PACKAGE"),": "),F)),c.a.createElement(r.j,{md:12},c.a.createElement(g.a,{in:C.show,classNames:"fade-transition",timeout:q.F,unmountOnExit:!0,appear:!0},c.a.createElement(r.b,{color:C.color,dismiss:!0,onClosed:function(){return w({})}},C.message))),c.a.createElement(r.j,{md:12,className:"text-center"},c.a.createElement("div",{className:"mt-5"},c.a.createElement(A.a,{circle:!0,current:L,pageCount:y,onChange:Y}))),c.a.createElement(r.j,{md:12,className:"text-left mt-3"},c.a.createElement("div",{className:"full-width"},c.a.createElement(r.g,{size:"sm",color:"warning",onClick:function(e){i.goBack()}},s("COMMON.BUTTON.BACK")))),c.a.createElement(r.j,{md:12},c.a.createElement(r.W,{responsive:!0,striped:!0},c.a.createElement(r.Y,null,c.a.createElement("tr",{className:"text-left"},c.a.createElement("th",null,"#"),c.a.createElement("th",null,s("QUESTIONNAIRE.ATTACHMENTS.APPLICANT")),c.a.createElement("th",null,s("QUESTIONNAIRE.ATTACHMENTS.TIMESTAMP")),c.a.createElement("th",null))),c.a.createElement(r.X,null,!P.length&&c.a.createElement("tr",null,c.a.createElement("td",{colSpan:5,className:"text-center"},s("COMMON.ERROR.NO_DATA"))),!!P.length&&P.map(function(e,a){return c.a.createElement("tr",{key:a,className:"text-left"},c.a.createElement("td",null,e.number),!!e.applicantId&&c.a.createElement("td",null,e.firstName||""," ",e.lastName||""),!e.applicantId&&c.a.createElement("td",null,c.a.createElement(r.c,{color:"warning",pill:!0},s("QUESTIONNAIRE.ATTACHMENTS.GUEST"))),c.a.createElement("td",null,e.timestamp2),c.a.createElement("td",{className:"p-2 edit-col1"},c.a.createElement(r.g,{tag:"a",size:"sm",color:"primary",floating:!0,onClick:function(a){return function(e){var a=e.userId,n=(e.attachment,e.applicantId),c=e.firstName,l=e.fatherName,r=e.lastName;X({method:S.d,url:p.a.questionnaire.downloadAttachment,params:{questionnaireId:t,userId:a},filename:n?"".concat(F," - ").concat(c||""," ").concat(l||""," ").concat(r||""):"".concat(F," - ").concat(s("QUESTIONNAIRE.ATTACHMENTS.GUEST"))})}(e)}},c.a.createElement(r.s,{icon:"download"}))))})))),c.a.createElement(r.j,{md:12,className:"text-center"},c.a.createElement("div",{className:"mt-5"},c.a.createElement(A.a,{circle:!0,current:L,pageCount:y,onChange:Y})))))}),Z=function(e){Object(F.a)(e);var t=Object(l.h)(),a=t.packageId,o=t.id,s=t.page,i=t.page2,m=(t.page3,Object(O.b)().t),R=Object(l.g)(),A=Object(z.c)(function(e){return e}).auth,I=Object(n.useState)(!0),S=Object(u.a)(I,2),p=S[0],T=S[1],h=Object(n.useState)({}),j=Object(u.a)(h,2),C=j[0],v=j[1],D=Object(n.useState)({}),Q=Object(u.a)(D,2),y=Q[0],k=Q[1],x=Object(n.useState)(),_=Object(u.a)(x,2),B=_[0],P=_[1],K=Object(n.useState)(""),L=Object(u.a)(K,2),G=L[0],H=L[1],Y=Object(n.useState)(""),X=Object(u.a)(Y,2),J=X[0],Z=X[1],$=Object(n.useState)(q.I?q.x:""),ee=Object(u.a)($,2),te=ee[0],ae=ee[1];Object(n.useEffect)(function(e){d.animateScroll.scrollToTop({duration:q.F}),P(o),!o&&T(!1),!o&&P(void 0),!o&&Z(""),!o&&ae(q.I?q.x:""),a&&U({id:a}).then(function(e){e.result===q.B?H(e.data.name):v({show:!0,color:q.a,message:e.message})}).catch(function(e){v({show:!0,color:q.a,message:m("COMMON.ERROR.UNKNOWN_SERVER_ERROR")})}),o&&M({id:o}).then(function(e){e.result===q.B?Z(e.data.question):v({show:!0,color:q.a,message:e.message}),T(!1)}).catch(function(e){console.log(e),v({show:!0,color:q.a,message:m("COMMON.ERROR.UNKNOWN_SERVER_ERROR")}),T(!1)})},[o]);var ne=function(){var e=Object(V.a)(W.a.mark(function e(t){var n;return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,w({id:B,userId:A.user.id,packageId:a,question:J,type:te});case 4:n=e.sent,!B&&P(n.data.insertId),v({show:!0,color:n.result,message:n.message}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),v({show:!0,color:q.a,message:m("COMMON.ERROR.UNKNOWN_SERVER_ERROR")});case 12:case"end":return e.stop()}},e,null,[[1,9]])}));return function(t){return e.apply(this,arguments)}}();return c.a.createElement("div",null,c.a.createElement(f.Helmet,null,c.a.createElement("title",null,m(B?"QUESTIONNAIRE.ADD_QUESTION.MODIFY_QUESTION":"QUESTIONNAIRE.ADD_QUESTION.ADD_QUESTION")," - ",m("SITE_NAME"))),c.a.createElement(r.e,null,c.a.createElement(r.f,null,m("NAVBAR.QUESTIONNAIRE.QUESTIONNAIRE")),c.a.createElement(r.f,null,c.a.createElement(N.b,{to:"".concat(E.a.questionnaire.packages,"/").concat(i||1)},m("NAVBAR.QUESTIONNAIRE.PACKAGES"))),c.a.createElement(r.f,null,c.a.createElement(N.b,{to:"".concat(E.a.questionnaire.questions,"/").concat(a,"/").concat(s||1,"/").concat(i||1)},m("NAVBAR.QUESTIONNAIRE.QUESTIONS"))),c.a.createElement(r.f,{active:!0},m(B?"QUESTIONNAIRE.ADD_QUESTION.MODIFY_QUESTION":"QUESTIONNAIRE.ADD_QUESTION.ADD_QUESTION"))),!!p&&c.a.createElement(b.a,null),!p&&c.a.createElement(r.h,null,c.a.createElement(r.i,{className:"mx-md-4 mx-sm-1 text-left"},c.a.createElement("form",{onSubmit:ne},c.a.createElement("div",{className:"text-center"},c.a.createElement("h3",{className:"dark-grey-text mt-3 mb-0"},c.a.createElement("strong",null,m(B?"QUESTIONNAIRE.ADD_QUESTION.MODIFY_QUESTION":"QUESTIONNAIRE.ADD_QUESTION.ADD_QUESTION"))),c.a.createElement("p",{className:"text-left"},c.a.createElement("span",{className:"font-weight-bold"},m("QUESTIONNAIRE.PACKAGE"),": "),G)),c.a.createElement(r.N,null,c.a.createElement(r.j,{md:12},c.a.createElement(r.u,{label:m("QUESTIONNAIRE.QUESTION"),type:"textarea",rows:q.D,maxLength:q.f,outline:!0,autoFocus:!0,value:J,onChange:function(e){return Z(e.target.value)},onBlur:function(e){return k(Object.assign({},y,{question:!0}))}},y.question&&0===J.length&&c.a.createElement("div",{className:"invalid-field"},m("COMMON.VALIDATION.REQUIRED",{field:m("QUESTIONNAIRE.QUESTION")}))))),c.a.createElement(r.N,{className:"mb-5"},c.a.createElement(r.j,{md:4},c.a.createElement(r.O,{label:m("QUESTIONNAIRE.TYPE"),className:"mt-3 mb-0",selected:[te],getValue:function(e){return ae(e[0])}},c.a.createElement(r.P,{selected:[te]}),c.a.createElement(r.R,null,c.a.createElement(r.Q,{value:q.x,checked:te===q.x},m("QUESTIONNAIRE.ADD_QUESTION.CHECKBOX")),c.a.createElement(r.Q,{value:q.y,checked:te===q.y},m("QUESTIONNAIRE.ADD_QUESTION.INPUT")))),!!te&&0===te.length&&c.a.createElement("div",{className:"invalid-field"},m("COMMON.VALIDATION.REQUIRED",{field:m("QUESTIONNAIRE.TYPE")})))),c.a.createElement(g.a,{in:C.show,classNames:"fade-transition",timeout:q.F,unmountOnExit:!0,appear:!0},c.a.createElement(r.b,{color:C.color,dismiss:!0,onClosed:function(){return v({})}},C.message)),c.a.createElement(n.Fragment,null,c.a.createElement(r.g,{type:"submit",color:"indigo",size:"sm",disabled:!J||!J.length||!te.length},m(B?"COMMON.BUTTON.MODIFY":"COMMON.BUTTON.ADD")),c.a.createElement(r.g,{type:"button",color:"primary",size:"sm",disabled:!!p,onClick:function(e){v({}),P(void 0),Z(""),ae(q.I?q.x:""),k({}),R.push("".concat(E.a.questionnaire.addQuestion,"/").concat(a,"/").concat(s||1,"/").concat(i||1))}},m("COMMON.BUTTON.NEW")),c.a.createElement(r.g,{flat:!0,size:"sm",onClick:function(e){R.goBack()}},m("COMMON.BUTTON.BACK")))))))},$=(a(515),function(){var e=Object(l.h)(),t=e.questionId,a=e.packageId,o=e.page,s=e.page2,i=e.page3,m=Object(O.b)().t,R=Object(l.g)(),I=Object(n.useState)(!0),S=Object(u.a)(I,2),p=S[0],T=S[1],h=Object(n.useState)({}),j=Object(u.a)(h,2),U=j[0],C=j[1],w=Object(n.useState)({}),v=Object(u.a)(w,2),Q=v[0],k=v[1],x=Object(n.useState)(0),_=Object(u.a)(x,2),B=_[0],P=_[1],K=Object(n.useState)(""),W=Object(u.a)(K,2),V=W[0],F=W[1],z=Object(n.useState)([]),L=Object(u.a)(z,2),G=L[0],H=L[1],Y=o?parseInt(o):1,X=[{label:"#",field:"id",sort:"asc"},{label:m("QUESTIONNAIRE.ANSWERS.ANSWER"),field:"answer",sort:"asc"},{label:"",field:"button",sort:"asc"}];Object(n.useEffect)(function(e){d.animateScroll.scrollToTop({duration:q.F}),M({id:t}).then(function(e){e.result===q.B?F(e.data.question):C({show:!0,color:q.a,message:e.message})}).catch(function(e){C({show:!0,color:q.a,message:m("COMMON.ERROR.UNKNOWN_SERVER_ERROR")})}),D({questionId:t,page:Y}).then(function(e){if(e.result===q.B){var t=!0,a=!1,n=void 0;try{for(var c,l=e.data[Symbol.iterator]();!(t=(c=l.next()).done);t=!0){var r=c.value;r.button=J(r.id,r.number)}}catch(o){a=!0,n=o}finally{try{t||null==l.return||l.return()}finally{if(a)throw n}}P(e.pageCount),H(e.data)}else C({show:!0,color:q.a,message:e.message});T(!1)}).catch(function(e){C({show:!0,color:q.a,message:m("COMMON.ERROR.UNKNOWN_SERVER_ERROR")}),T(!1)})},[o,m]);var J=function(e,l){return c.a.createElement(n.Fragment,null,c.a.createElement(N.b,{to:"".concat(E.a.questionnaire.addAnswer,"/").concat(t,"/").concat(a,"/").concat(o||1,"/").concat(s||1,"/").concat(i||1,"/").concat(e)},c.a.createElement(r.g,{tag:"a",size:"sm",color:"indigo",className:"mr-2",floating:!0},c.a.createElement(r.s,{icon:"edit"}))),c.a.createElement(r.g,{tag:"a",size:"sm",color:"danger",floating:!0,onClick:function(t){return ee(e,"#"+l)}},c.a.createElement(r.s,{icon:"trash"})))},Z=function(e){k(Object.assign({},Q,{show:!Q.show}))},$=function(e){R.push("".concat(E.a.questionnaire.answers,"/").concat(t,"/").concat(a,"/").concat(e||1,"/").concat(s||1,"/").concat(i||1))},ee=function(e,t){k(Object.assign({},Q,{show:!0,title:m("COMMON.BUTTON.DELETE"),message:m("COMMON.QUESTION.DELETE",{item:t}),deleteId:e}))};return c.a.createElement(n.Fragment,null,c.a.createElement(f.Helmet,null,c.a.createElement("title",null,m("QUESTIONNAIRE.ANSWERS.ANSWERS")," - ",m("SITE_NAME"))),c.a.createElement(r.e,null,c.a.createElement(r.f,null,m("NAVBAR.QUESTIONNAIRE.QUESTIONNAIRE")),c.a.createElement(r.f,null,c.a.createElement(N.b,{to:"".concat(E.a.questionnaire.packages,"/").concat(i||1)},m("NAVBAR.QUESTIONNAIRE.PACKAGES"))),c.a.createElement(r.f,null,c.a.createElement(N.b,{to:"".concat(E.a.questionnaire.questions,"/").concat(a,"/").concat(s||1,"/").concat(i||1)},m("NAVBAR.QUESTIONNAIRE.QUESTIONS"))),c.a.createElement(r.f,{active:!0},m("QUESTIONNAIRE.ANSWERS.ANSWERS"))),!!p&&c.a.createElement(b.a,null),!p&&c.a.createElement(r.N,null,c.a.createElement(r.j,{md:12},c.a.createElement("h3",{className:"mt-4 font-weight-bold text-center"},m("QUESTIONNAIRE.ANSWERS.ANSWERS")),c.a.createElement("p",{className:"text-left"},c.a.createElement("span",{className:"font-weight-bold"},m("QUESTIONNAIRE.QUESTION"),": "),V)),c.a.createElement(r.j,{md:12},c.a.createElement(g.a,{in:U.show,classNames:"fade-transition",timeout:q.F,unmountOnExit:!0,appear:!0},c.a.createElement(r.b,{color:U.color,dismiss:!0,onClosed:function(){return C({})}},U.message))),!!B&&c.a.createElement(r.j,{md:12,className:"text-center"},c.a.createElement("div",{className:"mt-5"},c.a.createElement(A.a,{circle:!0,current:Y,pageCount:B,onChange:$}))),c.a.createElement(r.j,{md:12,className:"text-left mt-3"},c.a.createElement("div",{className:"full-width"},c.a.createElement(N.b,{to:"".concat(E.a.questionnaire.addAnswer,"/").concat(t,"/").concat(a,"/").concat(o||1,"/").concat(s||1,"/").concat(i)},c.a.createElement(r.g,{size:"sm",color:"primary"},m("QUESTIONNAIRE.ADD_ANSWER.ADD_ANSWER"))),c.a.createElement(r.g,{size:"sm",color:"warning",onClick:function(e){R.goBack()}},m("COMMON.BUTTON.BACK")))),c.a.createElement(r.j,{md:12},c.a.createElement(r.W,{responsive:!0,striped:!0},c.a.createElement(r.Y,null,c.a.createElement("tr",{className:"text-left"},X.map(function(e,t){return c.a.createElement("th",{key:t},e.label)}))),c.a.createElement(r.X,null,G.map(function(e,t){return c.a.createElement("tr",{key:t,className:"text-left"},c.a.createElement("td",null,e.number),c.a.createElement("td",null,e.answer),c.a.createElement("td",{className:"p-2 edit-col2"},e.button))})))),!!B&&c.a.createElement(r.j,{md:12,className:"text-center"},c.a.createElement("div",{className:"mt-5"},c.a.createElement(A.a,{circle:!0,current:Y,pageCount:B,onChange:$})))),c.a.createElement(r.w,{isOpen:!!Q.show,toggle:Z,centered:!0},c.a.createElement(r.z,{toggle:Z},Q.title),c.a.createElement(r.x,{className:"text-left"},Q.message),c.a.createElement(r.y,null,c.a.createElement(r.g,{type:"button",color:"danger",onClick:function(e){y({id:Q.deleteId,page:Y}).then(function(e){if(e.result===q.B){var t=!0,a=!1,n=void 0;try{for(var c,l=e.data[Symbol.iterator]();!(t=(c=l.next()).done);t=!0){var r=c.value;r.button=J(r.id,r.number)}}catch(o){a=!0,n=o}finally{try{t||null==l.return||l.return()}finally{if(a)throw n}}P(e.pageCount),H(e.data)}else C({show:!0,color:q.a,message:e.message}),d.animateScroll.scrollToTop({duration:q.F});T(!1),Z()}).catch(function(e){C({show:!0,color:q.a,message:m("COMMON.ERROR.UNKNOWN_SERVER_ERROR")}),d.animateScroll.scrollToTop({duration:q.F}),T(!1),Z()})}},m("COMMON.BUTTON.DELETE")),c.a.createElement(r.g,{type:"button",color:"secondary",onClick:Z},m("COMMON.BUTTON.CANCEL")))))}),ee=(a(516),function(e){Object(F.a)(e);var t=Object(l.h)(),a=t.questionId,o=t.packageId,s=t.id,i=t.page,m=t.page2,R=t.page3,A=Object(O.b)().t,I=Object(l.g)(),S=Object(z.c)(function(e){return e}).auth,p=Object(n.useState)(!0),T=Object(u.a)(p,2),h=T[0],j=T[1],U=Object(n.useState)({}),C=Object(u.a)(U,2),w=C[0],v=C[1],D=Object(n.useState)({}),y=Object(u.a)(D,2),x=(y[0],y[1],Object(n.useState)({})),_=Object(u.a)(x,2),B=_[0],P=_[1],K=Object(n.useState)(),L=Object(u.a)(K,2),G=L[0],H=L[1],Y=Object(n.useState)(""),X=Object(u.a)(Y,2),J=X[0],Z=X[1],$=Object(n.useState)(""),ee=Object(u.a)($,2),te=ee[0],ae=ee[1];Object(n.useEffect)(function(e){d.animateScroll.scrollToTop({duration:q.F}),H(s),!s&&j(!1),!s&&H(void 0),!s&&ae(""),a&&M({id:a}).then(function(e){e.result===q.B?Z(e.data.question):v({show:!0,color:q.a,message:e.message})}).catch(function(e){v({show:!0,color:q.a,message:A("COMMON.ERROR.UNKNOWN_SERVER_ERROR")})}),s&&k({id:s}).then(function(e){e.result===q.B?ae(e.data.answer):v({show:!0,color:q.a,message:e.message}),j(!1)}).catch(function(e){console.log(e),v({show:!0,color:q.a,message:A("COMMON.ERROR.UNKNOWN_SERVER_ERROR")}),j(!1)})},[s]);var ne=function(){var e=Object(V.a)(W.a.mark(function e(t){var n;return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,Q({id:G,userId:S.user.id,questionId:a,answer:te});case 4:n=e.sent,!G&&H(n.data.insertId),v({show:!0,color:n.result,message:n.message}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),v({show:!0,color:q.a,message:A("COMMON.ERROR.UNKNOWN_SERVER_ERROR")});case 12:case"end":return e.stop()}},e,null,[[1,9]])}));return function(t){return e.apply(this,arguments)}}();return c.a.createElement("div",null,c.a.createElement(f.Helmet,null,c.a.createElement("title",null,A(G?"QUESTIONNAIRE.ADD_ANSWER.MODIFY_ANSWER":"QUESTIONNAIRE.ADD_ANSWER.ADD_ANSWER")," - ",A("SITE_NAME"))),c.a.createElement(r.e,null,c.a.createElement(r.f,null,A("NAVBAR.QUESTIONNAIRE.QUESTIONNAIRE")),c.a.createElement(r.f,null,c.a.createElement(N.b,{to:"".concat(E.a.questionnaire.packages,"/").concat(R||1)},A("NAVBAR.QUESTIONNAIRE.PACKAGES"))),c.a.createElement(r.f,null,c.a.createElement(N.b,{to:"".concat(E.a.questionnaire.questions,"/").concat(o,"/").concat(m||1,"/").concat(R||1)},A("NAVBAR.QUESTIONNAIRE.QUESTIONS"))),c.a.createElement(r.f,null,c.a.createElement(N.b,{to:"".concat(E.a.questionnaire.answers,"/").concat(a,"/").concat(o,"/").concat(i||1,"/").concat(m||1,"/").concat(R||1)},A("QUESTIONNAIRE.ANSWERS.ANSWERS"))),c.a.createElement(r.f,{active:!0},A(G?"QUESTIONNAIRE.ADD_ANSWER.MODIFY_ANSWER":"QUESTIONNAIRE.ADD_ANSWER.ADD_ANSWER"))),!!h&&c.a.createElement(b.a,null),!h&&c.a.createElement(r.h,null,c.a.createElement(r.i,{className:"mx-md-4 mx-sm-1 text-left"},c.a.createElement("form",{onSubmit:ne},c.a.createElement("div",{className:"text-center"},c.a.createElement("h3",{className:"dark-grey-text mt-3 mb-0"},c.a.createElement("strong",null,A(G?"QUESTIONNAIRE.ADD_ANSWER.MODIFY_ANSWER":"QUESTIONNAIRE.ADD_ANSWER.ADD_ANSWER"))),c.a.createElement("p",{className:"text-left"},c.a.createElement("span",{className:"font-weight-bold"},A("QUESTIONNAIRE.QUESTION"),": "),J)),c.a.createElement(r.N,null,c.a.createElement(r.j,{md:12},c.a.createElement(r.u,{label:A("QUESTIONNAIRE.ANSWERS.ANSWER"),outline:!0,autoFocus:!0,value:te,onChange:function(e){return ae(e.target.value)},onBlur:function(e){return P(Object.assign({},B,{answer:!0}))}},B.answer&&0===te.length&&c.a.createElement("div",{className:"invalid-field"},A("COMMON.VALIDATION.REQUIRED",{field:A("QUESTIONNAIRE.ANSWERS.ANSWER")}))))),c.a.createElement(g.a,{in:w.show,classNames:"fade-transition",timeout:q.F,unmountOnExit:!0,appear:!0},c.a.createElement(r.b,{color:w.color,dismiss:!0,onClosed:function(){return v({})}},w.message)),c.a.createElement(n.Fragment,null,c.a.createElement(r.g,{type:"submit",color:"indigo",size:"sm",disabled:!te||!te.length},A(G?"COMMON.BUTTON.MODIFY":"COMMON.BUTTON.ADD")),c.a.createElement(r.g,{type:"button",color:"primary",size:"sm",disabled:!!h,onClick:function(e){v({}),H(void 0),ae(""),P({}),I.push("".concat(E.a.questionnaire.addAnswer,"/").concat(a,"/").concat(o,"/").concat(i||1,"/").concat(m||1,"/").concat(R||1))}},A("COMMON.BUTTON.NEW")),c.a.createElement(r.g,{flat:!0,size:"sm",onClick:function(e){I.goBack()}},A("COMMON.BUTTON.BACK")))))))}),te=a(71),ae=(a(517),function(e){var t=e.data,a=Object(O.b)().t,l=Object(n.useState)(100),o=Object(u.a)(l,2),s=o[0],i=o[1],m=Object(n.useState)({}),E=Object(u.a)(m,2),N=E[0],d=E[1],f="ltr"===a("DIRECTION")?"/":"\\";return Object(n.useEffect)(function(e){var a={},n=!0,c=!1,l=void 0;try{for(var r,o=t.answers[Symbol.iterator]();!(n=(r=o.next()).done);n=!0){var s=r.value;a=Object.assign({},a,Object(te.a)({},s.answer,s.count))}}catch(m){c=!0,l=m}finally{try{n||null==o.return||o.return()}finally{if(c)throw l}}i(t.answersCount),d(a)},[t,a]),c.a.createElement("div",{className:"text-left"},t.answers.map(function(e,t){return c.a.createElement(n.Fragment,{key:t},c.a.createElement("p",{className:"mb-1 white-text"},e.answer),c.a.createElement(r.M,{className:"mt-0 mb-3",color:"default",material:!0,value:(N[e.answer]||0)/s*100,animated:!0,height:"20px"},N[e.answer]," ",f," ",s))}))});a(518);function ne(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var ce=function(){var e=Object(l.h)(),t=e.packageId,a=e.page,o=e.page2,s=Object(O.b)().t,i=Object(l.g)(),m=Object(n.useState)(!0),R=Object(u.a)(m,2),I=R[0],T=R[1],h=Object(n.useState)({}),j=Object(u.a)(h,2),C=j[0],w=j[1],v=Object(n.useState)(0),M=Object(u.a)(v,2),D=M[0],Q=M[1],y=Object(n.useState)([]),k=Object(u.a)(y,2),B=k[0],P=k[1],K=Object(n.useState)({}),W=Object(u.a)(K,2),V=W[0],F=W[1],z=Object(n.useState)(""),L=Object(u.a)(z,2),G=L[0],H=L[1],Y=a?parseInt(a):1;Object(n.useEffect)(function(e){d.animateScroll.scrollToTop({duration:q.F}),J()},[a,s]);var J=function(e){U({id:t}).then(function(e){e.result===q.B?(F(e.data),H(e.data.releasedDate)):w({show:!0,color:q.a,message:e.message})}).catch(function(e){w({show:!0,color:q.a,message:s("COMMON.ERROR.UNKNOWN_SERVER_ERROR")})}),x({packageId:t,page:a}).then(function(e){e.result===q.B?(Q(e.pageCount),P(e.data),w(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ne(a,!0).forEach(function(t){Object(te.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ne(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},C,{show:!1}))):w({show:!0,color:q.a,message:e.message}),T(!1)}).catch(function(e){w({show:!0,color:q.a,message:s("COMMON.ERROR.UNKNOWN_SERVER_ERROR")}),T(!1)})},Z=function(e){i.push("".concat(E.a.questionnaire.result,"/").concat(t,"/").concat(e,"/").concat(o))};return c.a.createElement(n.Fragment,null,c.a.createElement(f.Helmet,null,c.a.createElement("title",null,s("QUESTIONNAIRE.RESULT.RESULT")," - ",s("SITE_NAME"))),c.a.createElement(r.e,null,c.a.createElement(r.f,null,s("NAVBAR.QUESTIONNAIRE.QUESTIONNAIRE")),c.a.createElement(r.f,null,c.a.createElement(N.b,{to:"".concat(E.a.questionnaire.packages,"/").concat(o||1)},s("NAVBAR.QUESTIONNAIRE.PACKAGES"))),c.a.createElement(r.f,{active:!0},s("QUESTIONNAIRE.RESULT.RESULT"))),!!I&&c.a.createElement(b.a,null),!I&&c.a.createElement(r.N,null,c.a.createElement(r.j,{md:12},c.a.createElement("h3",{className:"mt-4 font-weight-bold text-center"},s("QUESTIONNAIRE.RESULT.RESULT")),c.a.createElement("p",{className:"text-left"},c.a.createElement("span",{className:"font-weight-bold"},s("QUESTIONNAIRE.PACKAGE"),": "),V.name)),c.a.createElement(r.j,{md:12},c.a.createElement(g.a,{in:C.show,classNames:"fade-transition",timeout:q.F,unmountOnExit:!0,appear:!0},c.a.createElement(r.b,{color:C.color,dismiss:!0,onClosed:function(){return w({})}},C.message))),c.a.createElement(r.j,{md:12,className:"text-center"},c.a.createElement("div",{className:"mt-5"},c.a.createElement(A.a,{circle:!0,current:Y,pageCount:D,width:10,onChange:Z}))),c.a.createElement(r.j,{md:12,className:"text-left my-3"},c.a.createElement("div",{className:"full-width"},V.endDate>=V.today&&c.a.createElement(r.g,{size:"sm",color:"primary",disabled:!0},s("COMMON.BUTTON.NOT_FINISHED")),V.endDate<V.today&&c.a.createElement(r.g,{size:"sm",color:G.length?"danger":"primary",onClick:function(e){_({id:t,page:a,release:!G.length}).then(function(e){e.result===q.B?H(e.data.releasedDate):w({show:!0,color:q.a,message:e.message})}).catch(function(e){w({show:!0,color:q.a,message:s("COMMON.ERROR.UNKNOWN_SERVER_ERROR")})})}},G.length?s("COMMON.BUTTON.UNPUBLISH"):s("COMMON.BUTTON.PUBLISH")),c.a.createElement(r.g,{size:"sm",color:"secondary",onClick:function(e){var a="".concat(p.a.questionnaire.downloadResult),n={packageId:t,pageSize:1e3},c="".concat(V.name);X({method:S.d,url:a,params:n,filename:c})}},s("QUESTIONNAIRE.RESULT.DOWNLOAD_RESULT")),c.a.createElement(r.g,{size:"sm",color:"warning",onClick:function(e){i.goBack()}},s("COMMON.BUTTON.BACK")))),c.a.createElement(r.j,{md:12},c.a.createElement("div",{className:"survey-card z-depth-1"},c.a.createElement(r.T,{vertical:!0,className:"text-left"},B.map(function(e,t){return c.a.createElement(r.S,{key:t,className:"completed"},c.a.createElement("a",null,c.a.createElement("span",{className:"circle"},e.index)),c.a.createElement(n.Fragment,null,c.a.createElement("div",{className:"step-content lighten-4 white-text"},c.a.createElement("h6",{className:"mb-0"},e.question)),c.a.createElement("div",{className:"step-content mt-3 progress-group"},c.a.createElement(ae,{data:e}))))})))),c.a.createElement(r.j,{md:12,className:"text-center"},c.a.createElement("div",{className:"mt-5"},c.a.createElement(A.a,{circle:!0,current:Y,pageCount:D,width:10,onChange:Z})))))};a(519),t.default=function(){return c.a.createElement(n.Fragment,null,c.a.createElement(o.a,null),c.a.createElement(r.l,{className:"section"},c.a.createElement(l.d,null,c.a.createElement(l.b,{path:"".concat(E.a.questionnaire.result,"/:packageId/:page?/:page2?"),exact:!0,component:ce}),c.a.createElement(l.b,{path:"".concat(E.a.questionnaire.attachments,"/:packageId/:page?/:page2?"),exact:!0,component:J}),c.a.createElement(l.b,{path:"".concat(E.a.questionnaire.addAnswer,"/:questionId/:packageId/:page?/:page2?/:page3?/:id?"),exact:!0,component:ee}),c.a.createElement(l.b,{path:"".concat(E.a.questionnaire.answers,"/:questionId/:packageId/:page?/:page2?/:page3?"),exact:!0,component:$}),c.a.createElement(l.b,{path:"".concat(E.a.questionnaire.addQuestion,"/:packageId/:page?/:page2?/:id?"),exact:!0,component:Z}),c.a.createElement(l.b,{path:"".concat(E.a.questionnaire.questions,"/:packageId/:page?/:page2?"),exact:!0,component:Y}),c.a.createElement(l.b,{path:"".concat(E.a.questionnaire.addPackage,"/:page?/:id?"),exact:!0,component:H}),c.a.createElement(l.b,{path:"".concat(E.a.questionnaire.packages,"/:page?"),exact:!0,component:P}),c.a.createElement(l.b,{component:m.a}))),c.a.createElement(s.a,null),c.a.createElement(i.a,null))}}}]);