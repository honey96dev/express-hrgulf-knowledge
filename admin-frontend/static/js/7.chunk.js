(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{409:function(e,t,a){"use strict";var n=a(0),c=a.n(n),r=a(25),l=a(123);a(122);t.a=function(e){var t=Object(r.b)().t;return c.a.createElement("div",{className:"loading-page"},c.a.createElement(l.a,{heading:t("COMMON.ERROR.SORRY"),message:t("COMMON.ERROR.NO_DATA")}))}},410:function(e,t,a){"use strict";var n=a(66),c=a(0),r=a.n(c),l=a(5),o=a(9),s=a(417),i=a(25);t.a=function(e){var t=e.circle,a=e.current,m=e.pageCount,u=e.width,E=e.onChange,d=Object(i.b)().t,O=Object(c.useState)([]),f=Object(n.a)(O,2),N=f[0],b=f[1],g="ltr"===d("DIRECTION")?"left":"right",T="ltr"===d("DIRECTION")?"right":"left";return Object(c.useEffect)(function(e){var t=Math.ceil((u||(s.isMobile?o.h:o.g))/2),n=a-t<1?1:a-t,c=a+t-1>m?m:a+t-1;c-n<u&&(1===n&&(c=m<u?m:u),c===m&&(n=m-u+1<1?1:m-u+1));for(var r=[],l=n;l<=c;l++)r.push(l);b(r)},[a,m,u]),r.a.createElement(c.Fragment,null,m>0&&r.a.createElement(l.G,{circle:t},r.a.createElement(l.E,{disabled:1===a,onClick:function(){return E(1)}},r.a.createElement(l.F,{className:"page-link"},r.a.createElement(l.q,{icon:"angle-double-".concat(g)}))),r.a.createElement(l.E,{disabled:1===a,onClick:function(){return E(a-1)}},r.a.createElement(l.F,{className:"page-link"},r.a.createElement(l.q,{icon:"angle-".concat(g)}))),N.map(function(e,t){return r.a.createElement(l.E,{key:e,active:e===a,onClick:function(){return E(e)}},r.a.createElement(l.F,{className:"page-link"},e))}),r.a.createElement(l.E,{disabled:a===m,onClick:function(){return E(a+1)}},r.a.createElement(l.F,{className:"page-link"},r.a.createElement(l.q,{icon:"angle-".concat(T)}))),r.a.createElement(l.E,{disabled:a===m,onClick:function(){return E(m)}},r.a.createElement(l.F,{className:"page-link"},r.a.createElement(l.q,{icon:"angle-double-".concat(T)})))))}},411:function(e,t,a){"use strict";var n=a(415),c=a.n(n),r=a(9);t.a={isEmail:function(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())},isUsername:function(e){return e.length<=r.q&&/^[a-zA-Z_][0-9a-zA-Z_.-]+$/.test(String(e).toLowerCase())},isPhoneNumber:function(e){var t=c.a.PhoneNumberUtil.getInstance();try{var a=t.parseAndKeepRawInput(e);return t.isValidNumber(a)}catch(n){return!1}},isURL:function(e){return e.startsWith("http://")||e.startsWith("https://")}}},420:function(e,t,a){var n;!function(c){"use strict";var r=function(){var e=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZWN]|"[^"]*"|'[^']*'/g,t=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,a=/[^-+\dA-Z]/g;return function(n,c,o,s){if(1!==arguments.length||"string"!==function(e){if(null===e)return"null";if(void 0===e)return"undefined";if("object"!==typeof e)return typeof e;if(Array.isArray(e))return"array";return{}.toString.call(e).slice(8,-1).toLowerCase()}(n)||/\d/.test(n)||(c=n,n=void 0),(n=n||new Date)instanceof Date||(n=new Date(n)),isNaN(n))throw TypeError("Invalid date");var i=(c=String(r.masks[c]||c||r.masks.default)).slice(0,4);"UTC:"!==i&&"GMT:"!==i||(c=c.slice(4),o=!0,"GMT:"===i&&(s=!0));var m=o?"getUTC":"get",u=n[m+"Date"](),E=n[m+"Day"](),d=n[m+"Month"](),O=n[m+"FullYear"](),f=n[m+"Hours"](),N=n[m+"Minutes"](),b=n[m+"Seconds"](),g=n[m+"Milliseconds"](),T=o?0:n.getTimezoneOffset(),h=function(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate());t.setDate(t.getDate()-(t.getDay()+6)%7+3);var a=new Date(t.getFullYear(),0,4);a.setDate(a.getDate()-(a.getDay()+6)%7+3);var n=t.getTimezoneOffset()-a.getTimezoneOffset();t.setHours(t.getHours()-n);var c=(t-a)/6048e5;return 1+Math.floor(c)}(n),S=function(e){var t=e.getDay();0===t&&(t=7);return t}(n),p={d:u,dd:l(u),ddd:r.i18n.dayNames[E],dddd:r.i18n.dayNames[E+7],m:d+1,mm:l(d+1),mmm:r.i18n.monthNames[d],mmmm:r.i18n.monthNames[d+12],yy:String(O).slice(2),yyyy:O,h:f%12||12,hh:l(f%12||12),H:f,HH:l(f),M:N,MM:l(N),s:b,ss:l(b),l:l(g,3),L:l(Math.round(g/10)),t:f<12?r.i18n.timeNames[0]:r.i18n.timeNames[1],tt:f<12?r.i18n.timeNames[2]:r.i18n.timeNames[3],T:f<12?r.i18n.timeNames[4]:r.i18n.timeNames[5],TT:f<12?r.i18n.timeNames[6]:r.i18n.timeNames[7],Z:s?"GMT":o?"UTC":(String(n).match(t)||[""]).pop().replace(a,""),o:(T>0?"-":"+")+l(100*Math.floor(Math.abs(T)/60)+Math.abs(T)%60,4),S:["th","st","nd","rd"][u%10>3?0:(u%100-u%10!=10)*u%10],W:h,N:S};return c.replace(e,function(e){return e in p?p[e]:e.slice(1,e.length-1)})}}();function l(e,t){for(e=String(e),t=t||2;e.length<t;)e="0"+e;return e}r.masks={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:sso",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",expiresHeaderFormat:"ddd, dd mmm yyyy HH:MM:ss Z"},r.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],timeNames:["a","p","am","pm","A","P","AM","PM"]},void 0===(n=function(){return r}.call(t,a,t,e))||(e.exports=n)}()},448:function(e,t,a){},449:function(e,t,a){},450:function(e,t,a){},451:function(e,t,a){},452:function(e,t,a){},456:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(29),l=a(5),o=a(119),s=a(120),i=a(121),m=a(66),u=a(33),E=a(25),d=a(117),O=a(408),f=a(403),N=a(118),b=a(409),g=a(410),T=a(36),h=a(39),S=a(47),p=function(e){return new Promise(function(t,a){Object(T.a)(h.d,S.a.vote.questions,e).then(function(e){t(e)},function(e){a(e)})})},R=function(e){return new Promise(function(t,a){Object(T.a)(h.d,S.a.vote.saveQuestion,e).then(function(e){t(e)},function(e){a(e)})})},v=function(e){return new Promise(function(t,a){Object(T.a)(h.d,S.a.vote.deleteQuestion,e).then(function(e){t(e)},function(e){a(e)})})},y=function(e){return new Promise(function(t,a){Object(T.a)(h.d,S.a.vote.getQuestion,e).then(function(e){t(e)},function(e){a(e)})})},A=function(e){return new Promise(function(t,a){Object(T.a)(h.d,S.a.vote.answers,e).then(function(e){t(e)},function(e){a(e)})})},M=function(e){return new Promise(function(t,a){Object(T.a)(h.d,S.a.vote.saveAnswer,e).then(function(e){t(e)},function(e){a(e)})})},D=function(e){return new Promise(function(t,a){Object(T.a)(h.d,S.a.vote.deleteAnswer,e).then(function(e){t(e)},function(e){a(e)})})},j=function(e){return new Promise(function(t,a){Object(T.a)(h.d,S.a.vote.getAnswer,e).then(function(e){t(e)},function(e){a(e)})})},w=a(9),C=a(11),V=(a(448),function(){var e=Object(r.h)().page,t=Object(E.b)().t,a=Object(r.g)(),o=Object(n.useState)(!0),s=Object(m.a)(o,2),i=s[0],T=s[1],h=Object(n.useState)({}),S=Object(m.a)(h,2),R=S[0],y=S[1],A=Object(n.useState)({}),M=Object(m.a)(A,2),D=M[0],j=M[1],V=Object(n.useState)(0),I=Object(m.a)(V,2),U=I[0],_=I[1],x=Object(n.useState)([]),k=Object(m.a)(x,2),W=k[0],Q=k[1],B=e?parseInt(e):1,F=[{label:"#",field:"id",sort:"asc"},{label:t("VOTE.QUESTION"),field:"question",sort:"asc"},{label:t("VOTE.START_DATE"),field:"startDate",sort:"asc"},{label:t("VOTE.END_DATE"),field:"endDate",sort:"asc"},{label:"",field:"button",sort:"asc"}];Object(n.useEffect)(function(a){d.animateScroll.scrollToTop({duration:w.o}),p({page:e}).then(function(e){if(e.result===w.l){var t=!0,a=!1,n=void 0;try{for(var c,r=e.data[Symbol.iterator]();!(t=(c=r.next()).done);t=!0){var l=c.value;l.button=q(l.id,l.number)}}catch(o){a=!0,n=o}finally{try{t||null==r.return||r.return()}finally{if(a)throw n}}_(e.pageCount),Q(e.data)}else y({show:!0,color:w.a,message:e.message});T(!1)}).catch(function(e){y({show:!0,color:w.a,message:t("COMMON.ERROR.UNKNOWN_SERVER_ERROR")}),T(!1)})},[e,t]);var q=function(t,a){return c.a.createElement(n.Fragment,null,c.a.createElement(u.b,{to:"".concat(C.a.vote.addQuestion,"/").concat(t)},c.a.createElement(l.e,{tag:"a",size:"sm",color:"indigo",floating:!0},c.a.createElement(l.q,{icon:"edit"}))),c.a.createElement(u.b,{to:"".concat(C.a.vote.answers,"/").concat(t,"/").concat(e||1)},c.a.createElement(l.e,{tag:"a",size:"sm",color:"primary",className:"mx-2",floating:!0},c.a.createElement(l.q,{icon:"comments"}))),c.a.createElement(l.e,{tag:"a",size:"sm",color:"danger",floating:!0,onClick:function(e){return L(t,"#"+a)}},c.a.createElement(l.q,{icon:"trash"})))},H=function(e){j(Object.assign({},D,{show:!D.show}))},z=function(e){a.push("".concat(C.a.vote.questions,"/").concat(e))},L=function(e,a){j(Object.assign({},D,{show:!0,title:t("COMMON.BUTTON.DELETE"),message:t("COMMON.QUESTION.DELETE",{item:a}),deleteId:e}))};return c.a.createElement(n.Fragment,null,c.a.createElement(O.Helmet,null,c.a.createElement("title",null,t("NAVBAR.VOTE.VOTE")," - ",t("SITE_NAME"))),c.a.createElement(l.c,null,c.a.createElement(l.d,null,t("NAVBAR.VOTE.VOTE")),c.a.createElement(l.d,{active:!0},t("NAVBAR.VOTE.QUESTIONS"))),!!i&&c.a.createElement(N.a,null),!i&&!W.length&&c.a.createElement(b.a,null),!i&&!!W.length&&c.a.createElement(l.J,null,c.a.createElement(l.h,{md:12},c.a.createElement("h3",{className:"mt-4 font-weight-bold text-center"},t("NAVBAR.VOTE.QUESTIONS"))),c.a.createElement(l.h,{md:12},c.a.createElement(f.a,{in:R.show,classNames:"fade-transition",timeout:w.o,unmountOnExit:!0,appear:!0},c.a.createElement(l.b,{color:R.color,dismiss:!0,onClosed:function(){return y({})}},R.message))),c.a.createElement(l.h,{md:12,className:"text-center"},c.a.createElement("div",{className:"mt-5"},c.a.createElement(g.a,{circle:!0,current:B,pageCount:U,onChange:z}))),c.a.createElement(l.h,{md:12,className:"text-left mt-3"},c.a.createElement("div",{className:"full-width"},c.a.createElement(u.b,{to:C.a.vote.addQuestion},c.a.createElement(l.e,{size:"sm",color:"primary"},t("NAVBAR.VOTE.ADD_QUESTION"))))),c.a.createElement(l.h,{md:12},c.a.createElement(l.M,{responsive:!0,striped:!0},c.a.createElement(l.O,null,c.a.createElement("tr",{className:"text-left"},F.map(function(e,t){return c.a.createElement("th",{key:t},e.label)}))),c.a.createElement(l.N,null,W.map(function(e,t){return c.a.createElement("tr",{key:t,className:"text-left"},c.a.createElement("td",null,e.number),c.a.createElement("td",null,e.question),c.a.createElement("td",{className:"date-col"},e.startDate),c.a.createElement("td",{className:"date-col"},e.endDate),c.a.createElement("td",{className:"p-2 edit-col"},e.button))})))),c.a.createElement(l.h,{md:12,className:"text-center"},c.a.createElement("div",{className:"mt-5"},c.a.createElement(g.a,{circle:!0,current:B,pageCount:U,onChange:z})))),c.a.createElement(l.t,{isOpen:!!D.show,toggle:H,centered:!0},c.a.createElement(l.w,{toggle:H},D.title),c.a.createElement(l.u,{className:"text-left"},D.message),c.a.createElement(l.v,null,c.a.createElement(l.e,{type:"button",color:"danger",onClick:function(a){v({id:D.deleteId,page:e}).then(function(e){if(e.result===w.l){var t=!0,a=!1,n=void 0;try{for(var c,r=e.data[Symbol.iterator]();!(t=(c=r.next()).done);t=!0){var l=c.value;l.button=q(l.id,l.number)}}catch(o){a=!0,n=o}finally{try{t||null==r.return||r.return()}finally{if(a)throw n}}_(e.pageCount),Q(e.data)}else y({show:!0,color:w.a,message:e.message}),d.animateScroll.scrollToTop({duration:w.o});T(!1),H()}).catch(function(e){y({show:!0,color:w.a,message:t("COMMON.ERROR.UNKNOWN_SERVER_ERROR")}),d.animateScroll.scrollToTop({duration:w.o}),T(!1),H()})}},t("COMMON.BUTTON.DELETE")),c.a.createElement(l.e,{type:"button",color:"secondary",onClick:H},t("COMMON.BUTTON.CANCEL")))))}),I=a(413),U=a.n(I),_=a(414),x=a(416),k=a(34),W=a(420),Q=a.n(W),B=(a(411),a(449),function(e){Object(x.a)(e);var t=Object(r.h)().id,a=Object(E.b)().t,o=Object(r.g)(),s=Object(k.c)(function(e){return e}).auth,i=Object(n.useState)(!0),b=Object(m.a)(i,2),g=b[0],T=b[1],h=Object(n.useState)({}),S=Object(m.a)(h,2),p=S[0],v=S[1],A=Object(n.useState)({}),M=Object(m.a)(A,2),D=(M[0],M[1],Object(n.useState)({})),j=Object(m.a)(D,2),V=j[0],I=j[1],W=Object(n.useState)(),B=Object(m.a)(W,2),F=B[0],q=B[1],H=Object(n.useState)(""),z=Object(m.a)(H,2),L=z[0],P=z[1],J=Object(n.useState)(),K=Object(m.a)(J,2),Y=K[0],Z=K[1],G=Object(n.useState)(),$=Object(m.a)(G,2),X=$[0],ee=$[1];Object(n.useEffect)(function(e){d.animateScroll.scrollToTop({duration:w.o}),q(t),!t&&T(!1),!t&&q(void 0),!t&&P(""),!t&&Z(new Date),!t&&ee(new Date),t&&y({id:t}).then(function(e){e.result===w.l?(P(e.data.question),Z(e.data.startDate),ee(e.data.endDate)):v({show:!0,color:w.a,message:e.message}),T(!1)}).catch(function(e){console.log(e),v({show:!0,color:w.a,message:a("COMMON.ERROR.UNKNOWN_SERVER_ERROR")}),T(!1)})},[t]);var te=function(){var e=Object(_.a)(U.a.mark(function e(t){var n;return U.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,R({id:F,userId:s.user.id,question:L,startDate:Q()(Y,"yyyy-mm-dd"),endDate:Q()(X,"yyyy-mm-dd")});case 4:n=e.sent,!F&&q(n.data.insertId),v({show:!0,color:n.result,message:n.message}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),v({show:!0,color:w.a,message:a("COMMON.ERROR.UNKNOWN_SERVER_ERROR")});case 12:case"end":return e.stop()}},e,null,[[1,9]])}));return function(t){return e.apply(this,arguments)}}();return c.a.createElement("div",null,c.a.createElement(O.Helmet,null,c.a.createElement("title",null,a(F?"VOTE.ADD_QUESTION.MODIFY_QUESTION":"VOTE.ADD_QUESTION.ADD_QUESTION")," - ",a("SITE_NAME"))),c.a.createElement(l.c,null,c.a.createElement(l.d,null,a("NAVBAR.VOTE.VOTE")),c.a.createElement(l.d,null,c.a.createElement(u.b,{to:C.a.vote.questions},a("NAVBAR.VOTE.QUESTIONS"))),c.a.createElement(l.d,{active:!0},a(F?"VOTE.ADD_QUESTION.MODIFY_QUESTION":"VOTE.ADD_QUESTION.ADD_QUESTION"))),!!g&&c.a.createElement(N.a,null),c.a.createElement(l.f,null,c.a.createElement(l.g,{className:"mx-md-4 mx-sm-1 text-left"},c.a.createElement("form",{onSubmit:te},c.a.createElement("div",{className:"text-center"},c.a.createElement("h3",{className:"dark-grey-text mt-3 mb-0"},c.a.createElement("strong",null,a(F?"VOTE.ADD_QUESTION.MODIFY_QUESTION":"VOTE.ADD_QUESTION.ADD_QUESTION")))),c.a.createElement(l.J,null,c.a.createElement(l.h,{md:12},c.a.createElement(l.r,{label:a("VOTE.QUESTION"),type:"textarea",rows:w.m,outline:!0,autoFocus:!0,value:L,onChange:function(e){return P(e.target.value)},onBlur:function(e){return I(Object.assign({},V,{question:!0}))}},V.question&&0===L.length&&c.a.createElement("div",{className:"invalid-field"},a("COMMON.VALIDATION.REQUIRED",{field:a("VOTE.QUESTION")}))))),c.a.createElement(l.J,null,c.a.createElement(l.h,{md:6},c.a.createElement(l.k,{format:w.b,autoOk:!0,className:"date-picker",value:Y,getValue:function(e){return Z(e)}}),c.a.createElement("label",{className:"date-picker-label"},a("VOTE.START_DATE"))),c.a.createElement(l.h,{md:6},c.a.createElement(l.k,{format:w.b,autoOk:!0,className:"date-picker",value:X,getValue:function(e){return ee(e)}}),c.a.createElement("label",{className:"date-picker-label"},a("VOTE.END_DATE")))),c.a.createElement(f.a,{in:p.show,classNames:"fade-transition",timeout:w.o,unmountOnExit:!0,appear:!0},c.a.createElement(l.b,{color:p.color,dismiss:!0,onClosed:function(){return v({})}},p.message)),c.a.createElement(n.Fragment,null,c.a.createElement(l.e,{type:"submit",color:"indigo",size:"sm",disabled:!L||!L.length},a(F?"COMMON.BUTTON.MODIFY":"COMMON.BUTTON.ADD")),c.a.createElement(l.e,{flat:!0,size:"sm",onClick:function(e){o.goBack()}},a("COMMON.BUTTON.BACK")))))))}),F=(a(450),function(){var e=Object(r.h)(),t=e.id,a=e.page,o=e.page2,s=Object(E.b)().t,i=Object(r.g)(),b=Object(n.useState)(!0),T=Object(m.a)(b,2),h=T[0],S=T[1],p=Object(n.useState)({}),R=Object(m.a)(p,2),v=R[0],M=R[1],j=Object(n.useState)({}),V=Object(m.a)(j,2),I=V[0],U=V[1],_=Object(n.useState)(0),x=Object(m.a)(_,2),k=x[0],W=x[1],Q=Object(n.useState)(""),B=Object(m.a)(Q,2),F=B[0],q=B[1],H=Object(n.useState)([]),z=Object(m.a)(H,2),L=z[0],P=z[1],J=a?parseInt(a):1,K=[{label:"#",field:"id",sort:"asc"},{label:s("VOTE.ANSWERS.ANSWER"),field:"answer",sort:"asc"},{label:"",field:"button",sort:"asc"}];Object(n.useEffect)(function(e){d.animateScroll.scrollToTop({duration:w.o}),y({id:t}).then(function(e){e.result===w.l?q(e.data.question):M({show:!0,color:w.a,message:e.message})}).catch(function(e){M({show:!0,color:w.a,message:s("COMMON.ERROR.UNKNOWN_SERVER_ERROR")})}),A({questionId:t,page:a}).then(function(e){if(e.result===w.l){var t=!0,a=!1,n=void 0;try{for(var c,r=e.data[Symbol.iterator]();!(t=(c=r.next()).done);t=!0){var l=c.value;l.button=Y(l.id,l.number)}}catch(o){a=!0,n=o}finally{try{t||null==r.return||r.return()}finally{if(a)throw n}}W(e.pageCount),P(e.data)}else M({show:!0,color:w.a,message:e.message});S(!1)}).catch(function(e){M({show:!0,color:w.a,message:s("COMMON.ERROR.UNKNOWN_SERVER_ERROR")}),S(!1)})},[a,s]);var Y=function(e,a){return c.a.createElement(n.Fragment,null,c.a.createElement(u.b,{to:"".concat(C.a.vote.addAnswer,"/").concat(t,"/").concat(e)},c.a.createElement(l.e,{tag:"a",size:"sm",color:"indigo",className:"mx-2",floating:!0},c.a.createElement(l.q,{icon:"edit"}))),c.a.createElement(l.e,{tag:"a",size:"sm",color:"danger",floating:!0,onClick:function(t){return $(e,"#"+a)}},c.a.createElement(l.q,{icon:"trash"})))},Z=function(e){U(Object.assign({},I,{show:!I.show}))},G=function(e){i.push("".concat(C.a.vote.answers,"/").concat(t,"/").concat(e,"/").concat(o||""))},$=function(e,t){U(Object.assign({},I,{show:!0,title:s("COMMON.BUTTON.DELETE"),message:s("COMMON.QUESTION.DELETE",{item:t}),deleteId:e}))};return c.a.createElement(n.Fragment,null,c.a.createElement(O.Helmet,null,c.a.createElement("title",null,s("VOTE.ANSWERS.ANSWERS")," - ",s("SITE_NAME"))),c.a.createElement(l.c,null,c.a.createElement(l.d,null,s("NAVBAR.VOTE.VOTE")),c.a.createElement(l.d,null,c.a.createElement(u.b,{to:"".concat(C.a.vote.questions,"/").concat(o||"")},s("NAVBAR.VOTE.QUESTIONS"))),c.a.createElement(l.d,{active:!0},s("VOTE.ANSWERS.ANSWERS"))),!!h&&c.a.createElement(N.a,null),!h&&c.a.createElement(l.J,null,c.a.createElement(l.h,{md:12},c.a.createElement("h3",{className:"mt-4 font-weight-bold text-center"},s("VOTE.ANSWERS.ANSWERS")),c.a.createElement("p",{className:"text-left"},c.a.createElement("span",{className:"font-weight-bold"},s("VOTE.QUESTION"),": "),F)),c.a.createElement(l.h,{md:12},c.a.createElement(f.a,{in:v.show,classNames:"fade-transition",timeout:w.o,unmountOnExit:!0,appear:!0},c.a.createElement(l.b,{color:v.color,dismiss:!0,onClosed:function(){return M({})}},v.message))),!!k&&c.a.createElement(l.h,{md:12,className:"text-center"},c.a.createElement("div",{className:"mt-5"},c.a.createElement(g.a,{circle:!0,current:J,pageCount:k,onChange:G}))),c.a.createElement(l.h,{md:12,className:"text-left mt-3"},c.a.createElement("div",{className:"full-width"},c.a.createElement(u.b,{to:"".concat(C.a.vote.addAnswer,"/").concat(t)},c.a.createElement(l.e,{size:"sm",color:"primary"},s("VOTE.ADD_ANSWER.ADD_ANSWER"))),c.a.createElement(u.b,{to:"".concat(C.a.vote.questions,"/").concat(o||"")},c.a.createElement(l.e,{size:"sm",color:"warning"},s("COMMON.BUTTON.BACK"))))),c.a.createElement(l.h,{md:12},c.a.createElement(l.M,{responsive:!0,striped:!0},c.a.createElement(l.O,null,c.a.createElement("tr",{className:"text-left"},K.map(function(e,t){return c.a.createElement("th",{key:t},e.label)}))),c.a.createElement(l.N,null,L.map(function(e,t){return c.a.createElement("tr",{key:t,className:"text-left"},c.a.createElement("td",null,e.number),c.a.createElement("td",null,e.answer),c.a.createElement("td",{className:"p-2 edit-col"},e.button))})))),!!k&&c.a.createElement(l.h,{md:12,className:"text-center"},c.a.createElement("div",{className:"mt-5"},c.a.createElement(g.a,{circle:!0,current:J,pageCount:k,onChange:G})))),c.a.createElement(l.t,{isOpen:!!I.show,toggle:Z,centered:!0},c.a.createElement(l.w,{toggle:Z},I.title),c.a.createElement(l.u,{className:"text-left"},I.message),c.a.createElement(l.v,null,c.a.createElement(l.e,{type:"button",color:"danger",onClick:function(e){D({id:I.deleteId,page:a}).then(function(e){if(e.result===w.l){var t=!0,a=!1,n=void 0;try{for(var c,r=e.data[Symbol.iterator]();!(t=(c=r.next()).done);t=!0){var l=c.value;l.button=Y(l.id,l.number)}}catch(o){a=!0,n=o}finally{try{t||null==r.return||r.return()}finally{if(a)throw n}}W(e.pageCount),P(e.data)}else M({show:!0,color:w.a,message:e.message}),d.animateScroll.scrollToTop({duration:w.o});S(!1),Z()}).catch(function(e){M({show:!0,color:w.a,message:s("COMMON.ERROR.UNKNOWN_SERVER_ERROR")}),d.animateScroll.scrollToTop({duration:w.o}),S(!1),Z()})}},s("COMMON.BUTTON.DELETE")),c.a.createElement(l.e,{type:"button",color:"secondary",onClick:Z},s("COMMON.BUTTON.CANCEL")))))}),q=(a(451),function(e){Object(x.a)(e);var t=Object(r.h)(),a=t.questionId,o=t.id,s=Object(E.b)().t,i=Object(r.g)(),b=Object(k.c)(function(e){return e}).auth,g=Object(n.useState)(!0),T=Object(m.a)(g,2),h=T[0],S=T[1],p=Object(n.useState)({}),R=Object(m.a)(p,2),v=R[0],y=R[1],A=Object(n.useState)({}),D=Object(m.a)(A,2),V=(D[0],D[1],Object(n.useState)({})),I=Object(m.a)(V,2),W=I[0],Q=I[1],B=Object(n.useState)(),F=Object(m.a)(B,2),q=F[0],H=F[1],z=Object(n.useState)(""),L=Object(m.a)(z,2),P=L[0],J=L[1];Object(n.useEffect)(function(e){d.animateScroll.scrollToTop({duration:w.o}),H(o),!o&&S(!1),!o&&H(void 0),!o&&J(""),o&&j({id:o}).then(function(e){e.result===w.l?J(e.data.answer):y({show:!0,color:w.a,message:e.message}),S(!1)}).catch(function(e){console.log(e),y({show:!0,color:w.a,message:s("COMMON.ERROR.UNKNOWN_SERVER_ERROR")}),S(!1)})},[o]);var K=function(){var e=Object(_.a)(U.a.mark(function e(t){var n;return U.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,M({id:q,userId:b.user.id,questionId:a,answer:P});case 4:n=e.sent,!q&&H(n.data.insertId),y({show:!0,color:n.result,message:n.message}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),y({show:!0,color:w.a,message:s("COMMON.ERROR.UNKNOWN_SERVER_ERROR")});case 12:case"end":return e.stop()}},e,null,[[1,9]])}));return function(t){return e.apply(this,arguments)}}();return c.a.createElement("div",null,c.a.createElement(O.Helmet,null,c.a.createElement("title",null,s(q?"VOTE.ADD_ANSWER.MODIFY_ANSWER":"VOTE.ADD_ANSWER.ADD_ANSWER")," - ",s("SITE_NAME"))),c.a.createElement(l.c,null,c.a.createElement(l.d,null,s("NAVBAR.VOTE.VOTE")),c.a.createElement(l.d,null,c.a.createElement(u.b,{to:C.a.vote.questions},s("NAVBAR.VOTE.QUESTIONS"))),c.a.createElement(l.d,null,s("VOTE.ANSWERS.ANSWERS")),c.a.createElement(l.d,{active:!0},s(q?"VOTE.ADD_ANSWER.MODIFY_ANSWER":"VOTE.ADD_ANSWER.ADD_ANSWER"))),!!h&&c.a.createElement(N.a,null),c.a.createElement(l.f,null,c.a.createElement(l.g,{className:"mx-md-4 mx-sm-1 text-left"},c.a.createElement("form",{onSubmit:K},c.a.createElement("div",{className:"text-center"},c.a.createElement("h3",{className:"dark-grey-text mt-3 mb-0"},c.a.createElement("strong",null,s(q?"VOTE.ADD_ANSWER.MODIFY_ANSWER":"VOTE.ADD_ANSWER.ADD_ANSWER")))),c.a.createElement(l.J,null,c.a.createElement(l.h,{md:12},c.a.createElement(l.r,{label:s("VOTE.ANSWERS.ANSWER"),outline:!0,autoFocus:!0,value:P,onChange:function(e){return J(e.target.value)},onBlur:function(e){return Q(Object.assign({},W,{answer:!0}))}},W.answer&&0===P.length&&c.a.createElement("div",{className:"invalid-field"},s("COMMON.VALIDATION.REQUIRED",{field:s("VOTE.ANSWERS.ANSWER")}))))),c.a.createElement(f.a,{in:v.show,classNames:"fade-transition",timeout:w.o,unmountOnExit:!0,appear:!0},c.a.createElement(l.b,{color:v.color,dismiss:!0,onClosed:function(){return y({})}},v.message)),c.a.createElement(n.Fragment,null,c.a.createElement(l.e,{type:"submit",color:"indigo",size:"sm",disabled:!P||!P.length},s(q?"COMMON.BUTTON.MODIFY":"COMMON.BUTTON.ADD")),c.a.createElement(l.e,{flat:!0,size:"sm",onClick:function(e){i.goBack()}},s("COMMON.BUTTON.BACK")))))))});a(452),t.default=function(){return c.a.createElement(n.Fragment,null,c.a.createElement(o.a,null),c.a.createElement(l.j,{className:"section"},c.a.createElement(r.d,null,c.a.createElement(r.b,{path:"".concat(C.a.vote.addAnswer,"/:questionId/:id"),exact:!0,component:q}),c.a.createElement(r.b,{path:"".concat(C.a.vote.addAnswer,"/:questionId"),exact:!0,component:q}),c.a.createElement(r.b,{path:"".concat(C.a.vote.answers,"/:id/:page/:page2"),exact:!0,component:F}),c.a.createElement(r.b,{path:"".concat(C.a.vote.answers,"/:id/:page2"),exact:!0,component:F}),c.a.createElement(r.b,{path:"".concat(C.a.vote.addQuestion,"/:id"),exact:!0,component:B}),c.a.createElement(r.b,{path:C.a.vote.addQuestion,exact:!0,component:B}),c.a.createElement(r.b,{path:"".concat(C.a.vote.questions,"/:page"),exact:!0,component:V}),c.a.createElement(r.b,{path:C.a.vote.questions,exact:!0,component:V}))),c.a.createElement(s.a,null),c.a.createElement(i.a,null))}}}]);